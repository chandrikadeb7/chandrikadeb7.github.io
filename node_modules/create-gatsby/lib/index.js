function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("assert")),r=e(require("events")),i=e(require("readline")),n=require("child_process"),s=e(n),o=e(require("path")),a=e(require("fs")),c=e(require("os")),l=e(require("stream")),u=e(require("constants")),h=e(require("util")),p=e(require("crypto")),d=e(require("tty")),f=e(require("http")),m=e(require("url")),y=e(require("https")),g=e(require("zlib"));function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var E=v(function(e){const t="Hyper"===process.env.TERM_PROGRAM,r="win32"===process.platform,i="linux"===process.platform,n={ballotDisabled:"‚òí",ballotOff:"‚òê",ballotOn:"‚òë",bullet:"‚Ä¢",bulletWhite:"‚ó¶",fullBlock:"‚ñà",heart:"‚ù§",identicalTo:"‚â°",line:"‚îÄ",mark:"‚Äª",middot:"¬∑",minus:"Ôºç",multiplication:"√ó",obelus:"√∑",pencilDownRight:"‚úé",pencilRight:"‚úè",pencilUpRight:"‚úê",percent:"%",pilcrow2:"‚ù°",pilcrow:"¬∂",plusMinus:"¬±",section:"¬ß",starsOff:"‚òÜ",starsOn:"‚òÖ",upDownArrow:"‚Üï"},s=Object.assign({},n,{check:"‚àö",cross:"√ó",ellipsisLarge:"...",ellipsis:"...",info:"i",question:"?",questionSmall:"?",pointer:">",pointerSmall:"¬ª",radioOff:"( )",radioOn:"(*)",warning:"‚Äº"}),o=Object.assign({},n,{ballotCross:"‚úò",check:"‚úî",cross:"‚úñ",ellipsisLarge:"‚ãØ",ellipsis:"‚Ä¶",info:"‚Ñπ",question:"?",questionFull:"Ôºü",questionSmall:"Ôπñ",pointer:i?"‚ñ∏":"‚ùØ",pointerSmall:i?"‚Ä£":"‚Ä∫",radioOff:"‚óØ",radioOn:"‚óâ",warning:"‚ö†"});e.exports=r&&!t?s:o,Reflect.defineProperty(e.exports,"common",{enumerable:!1,value:n}),Reflect.defineProperty(e.exports,"windows",{enumerable:!1,value:s}),Reflect.defineProperty(e.exports,"other",{enumerable:!1,value:o})});const S=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,O=()=>{const e={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in process.env&&(e.enabled="0"!==process.env.FORCE_COLOR);const t=(e,t,r)=>"function"==typeof e?e(t):e.wrap(t,r),r=(r,i)=>{if(""===r||null==r)return"";if(!1===e.enabled)return r;if(!1===e.visible)return"";let n=""+r,s=n.includes("\n"),o=i.length;for(o>0&&i.includes("unstyle")&&(i=[...new Set(["unstyle",...i])].reverse());o-- >0;)n=t(e.styles[i[o]],n,s);return n},i=(t,i,n)=>{e.styles[t]=(e=>{let t=e.open=`[${e.codes[0]}m`,r=e.close=`[${e.codes[1]}m`,i=e.regex=new RegExp(`\\u001b\\[${e.codes[1]}m`,"g");return e.wrap=(e,n)=>{e.includes(r)&&(e=e.replace(i,r+t));let s=t+e+r;return n?s.replace(/\r*\n/g,`${r}$&${t}`):s},e})({name:t,codes:i}),(e.keys[n]||(e.keys[n]=[])).push(t),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(r){e.alias(t,r)},get(){let i=e=>r(e,i.stack);return Reflect.setPrototypeOf(i,e),i.stack=this.stack?this.stack.concat(t):[t],i}})};return i("reset",[0,0],"modifier"),i("bold",[1,22],"modifier"),i("dim",[2,22],"modifier"),i("italic",[3,23],"modifier"),i("underline",[4,24],"modifier"),i("inverse",[7,27],"modifier"),i("hidden",[8,28],"modifier"),i("strikethrough",[9,29],"modifier"),i("black",[30,39],"color"),i("red",[31,39],"color"),i("green",[32,39],"color"),i("yellow",[33,39],"color"),i("blue",[34,39],"color"),i("magenta",[35,39],"color"),i("cyan",[36,39],"color"),i("white",[37,39],"color"),i("gray",[90,39],"color"),i("grey",[90,39],"color"),i("bgBlack",[40,49],"bg"),i("bgRed",[41,49],"bg"),i("bgGreen",[42,49],"bg"),i("bgYellow",[43,49],"bg"),i("bgBlue",[44,49],"bg"),i("bgMagenta",[45,49],"bg"),i("bgCyan",[46,49],"bg"),i("bgWhite",[47,49],"bg"),i("blackBright",[90,39],"bright"),i("redBright",[91,39],"bright"),i("greenBright",[92,39],"bright"),i("yellowBright",[93,39],"bright"),i("blueBright",[94,39],"bright"),i("magentaBright",[95,39],"bright"),i("cyanBright",[96,39],"bright"),i("whiteBright",[97,39],"bright"),i("bgBlackBright",[100,49],"bgBright"),i("bgRedBright",[101,49],"bgBright"),i("bgGreenBright",[102,49],"bgBright"),i("bgYellowBright",[103,49],"bgBright"),i("bgBlueBright",[104,49],"bgBright"),i("bgMagentaBright",[105,49],"bgBright"),i("bgCyanBright",[106,49],"bgBright"),i("bgWhiteBright",[107,49],"bgBright"),e.ansiRegex=S,e.hasColor=e.hasAnsi=t=>(e.ansiRegex.lastIndex=0,"string"==typeof t&&""!==t&&e.ansiRegex.test(t)),e.alias=(t,i)=>{let n="string"==typeof i?e[i]:i;if("function"!=typeof n)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");n.stack||(Reflect.defineProperty(n,"name",{value:t}),e.styles[t]=n,n.stack=[t]),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(r){e.alias(t,r)},get(){let t=e=>r(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(n.stack):n.stack,t}})},e.theme=t=>{if(null===(r=t)||"object"!=typeof r||Array.isArray(r))throw new TypeError("Expected theme to be an object");var r;for(let r of Object.keys(t))e.alias(r,t[r]);return e},e.alias("unstyle",t=>"string"==typeof t&&""!==t?(e.ansiRegex.lastIndex=0,t.replace(e.ansiRegex,"")):""),e.alias("noop",e=>e),e.none=e.clear=e.noop,e.stripColor=e.unstyle,e.symbols=E,e.define=i,e};var x=O();x.create=O;var I=v(function(e,t){const r=Object.prototype.toString;let i=!1,n=[];const s={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};t.longest=(e,t)=>e.reduce((e,r)=>Math.max(e,t?r[t].length:r.length),0),t.hasColor=e=>!!e&&x.hasColor(e);const o=t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e);t.nativeType=e=>r.call(e).slice(8,-1).toLowerCase().replace(/\s/g,""),t.isAsyncFn=e=>"asyncfunction"===t.nativeType(e),t.isPrimitive=e=>null!=e&&"object"!=typeof e&&"function"!=typeof e,t.resolve=(e,t,...r)=>"function"==typeof t?t.call(e,...r):t,t.scrollDown=(e=[])=>[...e.slice(1),e[0]],t.scrollUp=(e=[])=>[e.pop(),...e],t.reorder=(e=[])=>{let t=e.slice();return t.sort((e,t)=>e.index>t.index?1:e.index<t.index?-1:0),t},t.swap=(e,t,r)=>{let i=e.length,n=r===i?0:r<0?i-1:r,s=e[t];e[t]=e[n],e[n]=s},t.width=(e,t=80)=>{let r=e&&e.columns?e.columns:t;return e&&"function"==typeof e.getWindowSize&&(r=e.getWindowSize()[0]),"win32"===process.platform?r-1:r},t.height=(e,t=20)=>{let r=e&&e.rows?e.rows:t;return e&&"function"==typeof e.getWindowSize&&(r=e.getWindowSize()[1]),r},t.wordWrap=(e,t={})=>{if(!e)return e;"number"==typeof t&&(t={width:t});let{indent:r="",newline:i="\n"+r,width:n=80}=t,s=(i+r).match(/[^\S\n]/g)||[];n-=s.length;let o=`.{1,${n}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,a=e.trim(),c=new RegExp(o,"g"),l=a.match(c)||[];return l=l.map(e=>e.replace(/\n$/,"")),t.padEnd&&(l=l.map(e=>e.padEnd(n," "))),t.padStart&&(l=l.map(e=>e.padStart(n," "))),r+l.join(i)},t.unmute=e=>{let t=e.stack.find(e=>x.keys.color.includes(e));return t?x[t]:e.stack.find(e=>"bg"===e.slice(2))?x[t.slice(2)]:e=>e},t.pascal=e=>e?e[0].toUpperCase()+e.slice(1):"",t.inverse=e=>{if(!e||!e.stack)return e;let r=e.stack.find(e=>x.keys.color.includes(e));if(r){let i=x["bg"+t.pascal(r)];return i?i.black:e}let i=e.stack.find(e=>"bg"===e.slice(0,2));return i?x[i.slice(2).toLowerCase()]||e:x.none},t.complement=e=>{if(!e||!e.stack)return e;let r=e.stack.find(e=>x.keys.color.includes(e)),i=e.stack.find(e=>"bg"===e.slice(0,2));if(r&&!i)return x[s[r]||r];if(i){let r=i.slice(2).toLowerCase(),n=s[r];return n&&x["bg"+t.pascal(n)]||e}return x.none},t.meridiem=e=>{let t=e.getHours(),r=e.getMinutes(),i=t>=12?"pm":"am";return t%=12,(0===t?12:t)+":"+(r<10?"0"+r:r)+" "+i},t.set=(e={},r="",i)=>r.split(".").reduce((e,r,n,s)=>{let o=s.length-1>n?e[r]||{}:i;return!t.isObject(o)&&n<s.length-1&&(o={}),e[r]=o},e),t.get=(e={},t="",r)=>{let i=null==e[t]?t.split(".").reduce((e,t)=>e&&e[t],e):e[t];return null==i?r:i},t.mixin=(e,r)=>{if(!o(e))return r;if(!o(r))return e;for(let i of Object.keys(r)){let n=Object.getOwnPropertyDescriptor(r,i);if(n.hasOwnProperty("value"))if(e.hasOwnProperty(i)&&o(n.value)){let s=Object.getOwnPropertyDescriptor(e,i);o(s.value)?e[i]=t.merge({},e[i],r[i]):Reflect.defineProperty(e,i,n)}else Reflect.defineProperty(e,i,n);else Reflect.defineProperty(e,i,n)}return e},t.merge=(...e)=>{let r={};for(let i of e)t.mixin(r,i);return r},t.mixinEmitter=(e,r)=>{let i=r.constructor.prototype;for(let n of Object.keys(i)){let s=i[n];t.define(e,n,"function"==typeof s?s.bind(r):s)}},t.onExit=e=>{const t=(e,t)=>{i||(i=!0,n.forEach(e=>e()),!0===e&&process.exit(128+t))};0===n.length&&(process.once("SIGTERM",t.bind(null,!0,15)),process.once("SIGINT",t.bind(null,!0,2)),process.once("exit",t)),n.push(e)},t.define=(e,t,r)=>{Reflect.defineProperty(e,t,{value:r})},t.defineExport=(e,t,r)=>{let i;Reflect.defineProperty(e,t,{enumerable:!0,configurable:!0,set(e){i=e},get:()=>i?i():r()})}}),T={ctrl:{a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"},shift:{up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"},fn:{up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"},option:{b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"},keys:{pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}};const R=/^(?:\x1b)([a-zA-Z0-9])$/,C=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,A={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"},k=(e="",t={})=>{let r,i=w({name:t.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:e,raw:e},t);if(Buffer.isBuffer(e)?e[0]>127&&void 0===e[1]?(e[0]-=128,e=""+String(e)):e=String(e):void 0!==e&&"string"!=typeof e?e=String(e):e||(e=i.sequence||""),i.sequence=i.sequence||e||i.name,"\r"===e)i.raw=void 0,i.name="return";else if("\n"===e)i.name="enter";else if("\t"===e)i.name="tab";else if("\b"===e||""===e||""===e||"\b"===e)i.name="backspace",i.meta=""===e.charAt(0);else if(""===e||""===e)i.name="escape",i.meta=2===e.length;else if(" "===e||" "===e)i.name="space",i.meta=2===e.length;else if(e<="")i.name=String.fromCharCode(e.charCodeAt(0)+"a".charCodeAt(0)-1),i.ctrl=!0;else if(1===e.length&&e>="0"&&e<="9")i.name="number";else if(1===e.length&&e>="a"&&e<="z")i.name=e;else if(1===e.length&&e>="A"&&e<="Z")i.name=e.toLowerCase(),i.shift=!0;else if(r=R.exec(e))i.meta=!0,i.shift=/^[A-Z]$/.test(r[1]);else if(r=C.exec(e)){let t=[...e];""===t[0]&&""===t[1]&&(i.option=!0);let n=[r[1],r[2],r[4],r[6]].filter(Boolean).join(""),s=(r[3]||r[5]||1)-1;i.ctrl=!!(4&s),i.meta=!!(10&s),i.shift=!!(1&s),i.code=n,i.name=A[n],i.shift=function(e){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(e)}(n)||i.shift,i.ctrl=function(e){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(e)}(n)||i.ctrl}return i};k.listen=(e={},t)=>{let{stdin:r}=e;if(!r||r!==process.stdin&&!r.isTTY)throw new Error("Invalid stream passed");let n=i.createInterface({terminal:!0,input:r});i.emitKeypressEvents(r,n);let s=(e,r)=>t(e,k(e,r),n),o=r.isRaw;return r.isTTY&&r.setRawMode(!0),r.on("keypress",s),n.resume(),()=>{r.isTTY&&r.setRawMode(o),r.removeListener("keypress",s),n.pause(),n.close()}},k.action=(e,t,r)=>{let i=w({},T,r);return t.ctrl?(t.action=i.ctrl[t.name],t):t.option&&i.option?(t.action=i.option[t.name],t):t.shift?(t.action=i.shift[t.name],t):(t.action=i.keys[t.name],t)};var P=k;function N(e,t,r={}){let i=e.timers[t]={name:t,start:Date.now(),ms:0,tick:0},n=r.interval||120;i.frames=r.frames||[],i.loading=!0;let s=setInterval(()=>{i.ms=Date.now()-i.start,i.tick++,e.render()},n);return i.stop=()=>{i.loading=!1,clearInterval(s)},Reflect.defineProperty(i,"interval",{value:s}),e.once("close",()=>i.stop()),i.stop}const{define:L,width:j}=I,_={default:x.noop,noop:x.noop,set inverse(e){this._inverse=e},get inverse(){return this._inverse||I.inverse(this.primary)},set complement(e){this._complement=e},get complement(){return this._complement||I.complement(this.primary)},primary:x.cyan,success:x.green,danger:x.magenta,strong:x.bold,warning:x.yellow,muted:x.dim,disabled:x.gray,dark:x.dim.gray,underline:x.underline,set info(e){this._info=e},get info(){return this._info||this.primary},set em(e){this._em=e},get em(){return this._em||this.primary.underline},set heading(e){this._heading=e},get heading(){return this._heading||this.muted.underline},set pending(e){this._pending=e},get pending(){return this._pending||this.primary},set submitted(e){this._submitted=e},get submitted(){return this._submitted||this.success},set cancelled(e){this._cancelled=e},get cancelled(){return this._cancelled||this.danger},set typing(e){this._typing=e},get typing(){return this._typing||this.dim},set placeholder(e){this._placeholder=e},get placeholder(){return this._placeholder||this.primary.dim},set highlight(e){this._highlight=e},get highlight(){return this._highlight||this.inverse},merge:(e={})=>{e.styles&&"boolean"==typeof e.styles.enabled&&(x.enabled=e.styles.enabled),e.styles&&"boolean"==typeof e.styles.visible&&(x.visible=e.styles.visible);let t=I.merge({},_,e.styles);delete t.merge;for(let e of Object.keys(x))t.hasOwnProperty(e)||Reflect.defineProperty(t,e,{get:()=>x[e]});for(let e of Object.keys(x.styles))t.hasOwnProperty(e)||Reflect.defineProperty(t,e,{get:()=>x[e]});return t}};var D=_;const M="win32"===process.platform,B=w({},x.symbols,{upDownDoubleArrow:"‚áï",upDownDoubleArrow2:"‚¨ç",upDownArrow:"‚Üï",asterisk:"*",asterism:"‚ÅÇ",bulletWhite:"‚ó¶",electricArrow:"‚åÅ",ellipsisLarge:"‚ãØ",ellipsisSmall:"‚Ä¶",fullBlock:"‚ñà",identicalTo:"‚â°",indicator:x.symbols.check,leftAngle:"‚Äπ",mark:"‚Äª",minus:"‚àí",multiplication:"√ó",obelus:"√∑",percent:"%",pilcrow:"¬∂",pilcrow2:"‚ù°",pencilUpRight:"‚úê",pencilDownRight:"‚úé",pencilRight:"‚úè",plus:"+",plusMinus:"¬±",pointRight:"‚òû",rightAngle:"‚Ä∫",section:"¬ß",hexagon:{off:"‚¨°",on:"‚¨¢",disabled:"‚¨¢"},ballot:{on:"‚òë",off:"‚òê",disabled:"‚òí"},stars:{on:"‚òÖ",off:"‚òÜ",disabled:"‚òÜ"},folder:{on:"‚ñº",off:"‚ñ∂",disabled:"‚ñ∂"},prefix:{pending:x.symbols.question,submitted:x.symbols.check,cancelled:x.symbols.cross},separator:{pending:x.symbols.pointerSmall,submitted:x.symbols.middot,cancelled:x.symbols.middot},radio:{off:M?"( )":"‚óØ",on:M?"(*)":"‚óâ",disabled:M?"(|)":"‚íæ"},numbers:["‚ì™","‚ë†","‚ë°","‚ë¢","‚ë£","‚ë§","‚ë•","‚ë¶","‚ëß","‚ë®","‚ë©","‚ë™","‚ë´","‚ë¨","‚ë≠","‚ëÆ","‚ëØ","‚ë∞","‚ë±","‚ë≤","‚ë≥","„âë","„âí","„âì","„âî","„âï","„âñ","„âó","„âò","„âô","„âö","„âõ","„âú","„âù","„âû","„âü","„ä±","„ä≤","„ä≥","„ä¥","„äµ","„ä∂","„ä∑","„ä∏","„äπ","„ä∫","„äª","„äº","„äΩ","„äæ","„äø"]});B.merge=e=>{let t=I.merge({},x.symbols,B,e.symbols);return delete t.merge,t};var F=B,$=v(function(e,t){const r="Apple_Terminal"===process.env.TERM_PROGRAM,i=e.exports=t;let n=!1;const s=i.code={bell:"",beep:"",beginning:"[G",down:"[J",esc:"[",getPosition:"[6n",hide:"[?25l",line:"[2K",lineEnd:"[K",lineStart:"[1K",restorePosition:"["+(r?"8":"u"),savePosition:"["+(r?"7":"s"),screen:"[2J",show:"[?25h",up:"[1J"},o=i.cursor={get hidden(){return n},hide:()=>(n=!0,s.hide),show:()=>(n=!1,s.show),forward:(e=1)=>`[${e}C`,backward:(e=1)=>`[${e}D`,nextLine:(e=1)=>"[E".repeat(e),prevLine:(e=1)=>"[F".repeat(e),up:(e=1)=>e?`[${e}A`:"",down:(e=1)=>e?`[${e}B`:"",right:(e=1)=>e?`[${e}C`:"",left:(e=1)=>e?`[${e}D`:"",to:(e,t)=>t?`[${t+1};${e+1}H`:`[${e+1}G`,move(e=0,t=0){let r="";return r+=e<0?o.left(-e):e>0?o.right(e):"",r+=t<0?o.up(-t):t>0?o.down(t):"",r},restore(e={}){let{after:t,cursor:r,initial:n,input:s,prompt:o,size:a,value:c}=e;if(n=I.isPrimitive(n)?String(n):"",s=I.isPrimitive(s)?String(s):"",c=I.isPrimitive(c)?String(c):"",a){let e=i.cursor.up(a)+i.cursor.to(o.length),t=s.length-r;return t>0&&(e+=i.cursor.left(t)),e}if(c||t){let e=!s&&n?-n.length:-s.length+r;return t&&(e-=t.length),""===s&&n&&!o.includes(n)&&(e+=n.length),i.cursor.move(e)}}},a=i.erase={screen:s.screen,up:s.up,down:s.down,line:s.line,lineEnd:s.lineEnd,lineStart:s.lineStart,lines(e){let t="";for(let r=0;r<e;r++)t+=i.erase.line+(r<e-1?i.cursor.up(1):"");return e&&(t+=i.code.beginning),t}};i.clear=(e="",t=process.stdout.columns)=>{if(!t)return a.line+o.to(0);let r=e.split(/\r?\n/),i=0;for(let e of r)i+=1+Math.floor(Math.max([...x.unstyle(e)].length-1,0)/t);return(a.line+o.prevLine()).repeat(i-1)+a.line+o.to(0)}});class G extends r{constructor(e={}){super(),this.name=e.name,this.type=e.type,this.options=e,(e=>{e.options=I.merge({},e.options.theme,e.options),e.symbols=F.merge(e.options),e.styles=D.merge(e.options)})(this),(e=>{e.timers=e.timers||{};let t=e.options.timers;if(t)for(let r of Object.keys(t)){let i=t[r];"number"==typeof i&&(i={interval:i}),N(e,r,i)}})(this),this.state=new class{constructor(e){let t=e.options;L(this,"_prompt",e),this.type=e.type,this.name=e.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=j(t.stdout||process.stdout),Object.assign(this,t),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=e.symbols,this.styles=e.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let e=w({},this);return e.status=this.status,e.buffer=Buffer.from(e.buffer),delete e.clone,e}set color(e){this._color=e}get color(){let e=this.prompt.styles;if(this.cancelled)return e.cancelled;if(this.submitted)return e.submitted;let t=this._color||e[this.status];return"function"==typeof t?t:e.pending}set loading(e){this._loading=e}get loading(){return"boolean"==typeof this._loading?this._loading:!!this.loadingChoices&&"choices"}get status(){return this.cancelled?"cancelled":this.submitted?"submitted":"pending"}}(this),this.initial=[e.initial,e.default].find(e=>null!=e),this.stdout=e.stdout||process.stdout,this.stdin=e.stdin||process.stdin,this.scale=e.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=function(e){"number"==typeof e&&(e=[e,e,e,e]);let t=[].concat(e||[]),r=e=>e%2==0?"\n":" ",i=[];for(let e=0;e<4;e++){let n=r(e);i.push(t[e]?n.repeat(t[e]):"")}return i}(this.options.margin),this.setMaxListeners(0),function(e){let t=t=>void 0===e[t]||"function"==typeof e[t],r=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],i=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let n of Object.keys(e.options)){if(r.includes(n))continue;if(/^on[A-Z]/.test(n))continue;let s=e.options[n];"function"==typeof s&&t(n)?i.includes(n)||(e[n]=s.bind(e)):"function"!=typeof e[n]&&(e[n]=s)}}(this)}async keypress(e,t={}){this.keypressed=!0;let r=P.action(e,P(e,t),this.options.actions);this.state.keypress=r,this.emit("keypress",e,r),this.emit("state",this.state.clone());let i=this.options[r.action]||this[r.action]||this.dispatch;if("function"==typeof i)return await i.call(this,e,r);this.alert()}alert(){delete this.state.alert,!1===this.options.show?this.emit("alert"):this.stdout.write($.code.beep)}cursorHide(){this.stdout.write($.cursor.hide()),I.onExit(()=>this.cursorShow())}cursorShow(){this.stdout.write($.cursor.show())}write(e){e&&(this.stdout&&!1!==this.state.show&&this.stdout.write(e),this.state.buffer+=e)}clear(e=0){let t=this.state.buffer;this.state.buffer="",(t||e)&&!1!==this.options.show&&this.stdout.write($.cursor.down(e)+$.clear(t,this.width))}restore(){if(this.state.closed||!1===this.options.show)return;let{prompt:e,after:t,rest:r}=this.sections(),{cursor:i,initial:n="",input:s="",value:o=""}=this,a=this.state.size=r.length,c=$.cursor.restore({after:t,cursor:i,initial:n,input:s,prompt:e,size:a,value:o});c&&this.stdout.write(c)}sections(){let{buffer:e,input:t,prompt:r}=this.state;r=x.unstyle(r);let i=x.unstyle(e),n=i.indexOf(r),s=i.slice(0,n),o=i.slice(n).split("\n"),a=o[0],c=o[o.length-1],l=(r+(t?" "+t:"")).length,u=l<a.length?a.slice(l+1):"";return{header:s,prompt:a,after:u,rest:o.slice(1),last:c}}async submit(){this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit&&await this.options.onSubmit.call(this,this.name,this.value,this);let e=this.state.error||await this.validate(this.value,this.state);if(!0!==e){let t="\n"+this.symbols.pointer+" ";return t+="string"==typeof e?e.trim():"Invalid input",this.state.error="\n"+this.styles.danger(t),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,void(this.state.error=void 0)}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(e){this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),"function"==typeof this.options.onCancel&&await this.options.onCancel.call(this,this.name,this.value,this),this.emit("cancel",await this.error(e))}async close(){this.state.closed=!0;try{let e=this.sections(),t=Math.ceil(e.prompt.length/this.width);e.rest&&this.write($.cursor.down(e.rest.length)),this.write("\n".repeat(t))}catch(e){}this.emit("close")}start(){this.stop||!1===this.options.show||(this.stop=P.listen(this,this.keypress.bind(this)),this.once("close",this.stop))}async skip(){return this.skipped=!0===this.options.skip,"function"==typeof this.options.skip&&(this.skipped=await this.options.skip.call(this,this.name,this.value)),this.skipped}async initialize(){let{format:e,options:t,result:r}=this;if(this.format=()=>e.call(this,this.value),this.result=()=>r.call(this,this.value),"function"==typeof t.initial&&(this.initial=await t.initial.call(this,this)),"function"==typeof t.onRun&&await t.onRun.call(this,this),"function"==typeof t.onSubmit){let e=t.onSubmit.bind(this),r=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>(await e(this.name,this.value,this),r())}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async(e,t)=>{if(this.once("submit",e),this.once("cancel",t),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element(e,t,r){let{options:i,state:n,symbols:s,timers:o}=this;n.timer=o&&o[e];let a=i[e]||n[e]||s[e],c=t&&null!=t[e]?t[e]:await a;if(""===c)return c;let l=await this.resolve(c,n,t,r);return!l&&t&&t[e]?this.resolve(a,n,t,r):l}async prefix(){let e=await this.element("prefix")||this.symbols,t=this.state;return t.timer=this.timers&&this.timers.prefix,I.isObject(e)&&(e=e[t.status]||e.pending),I.hasColor(e)?e:(this.styles[t.status]||this.styles.pending)(e)}async message(){let e=await this.element("message");return I.hasColor(e)?e:this.styles.strong(e)}async separator(){let e=await this.element("separator")||this.symbols,t=this.state;t.timer=this.timers&&this.timers.separator;let r=e[t.status]||e.pending||t.separator,i=await this.resolve(r,t);return I.isObject(i)&&(i=i[t.status]||i.pending),I.hasColor(i)?i:this.styles.muted(i)}async pointer(e,t){let r=await this.element("pointer",e,t);if("string"==typeof r&&I.hasColor(r))return r;if(r){let e=this.styles,i=this.index===t,n=i?e.primary:e=>e,s=await this.resolve(r[i?"on":"off"]||r,this.state),o=I.hasColor(s)?s:n(s);return i?o:" ".repeat(s.length)}}async indicator(e,t){let r=await this.element("indicator",e,t);if("string"==typeof r&&I.hasColor(r))return r;if(r){let t=this.styles,i=!0===e.enabled,n=i?t.success:t.dark,s=r[i?"on":"off"]||r;return I.hasColor(s)?s:n(s)}return""}body(){return null}footer(){if("pending"===this.state.status)return this.element("footer")}header(){if("pending"===this.state.status)return this.element("header")}async hint(){if("pending"===this.state.status&&!this.isValue(this.state.input)){let e=await this.element("hint");return I.hasColor(e)?e:this.styles.muted(e)}}error(e){return this.state.submitted?"":e||this.state.error}format(e){return e}result(e){return e}validate(e){return!0!==this.options.required||this.isValue(e)}isValue(e){return null!=e&&""!==e}resolve(e,...t){return I.resolve(this,e,...t)}get base(){return G.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||I.height(this.stdout,25)}get width(){return this.options.columns||I.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(e){this.state.cursor=e}get cursor(){return this.state.cursor}set input(e){this.state.input=e}get input(){return this.state.input}set value(e){this.state.value=e}get value(){let{input:e,value:t}=this.state,r=[t,e].find(this.isValue.bind(this));return this.isValue(r)?r:this.initial}static get prompt(){return e=>new this(e).run()}}var U=G;const q={default:(e,t)=>t,checkbox(e,t){throw new Error("checkbox role is not implemented yet")},editable(e,t){throw new Error("editable role is not implemented yet")},expandable(e,t){throw new Error("expandable role is not implemented yet")},heading:(e,t)=>(t.disabled="",t.indicator=[t.indicator," "].find(e=>null!=e),t.message=t.message||"",t),input(e,t){throw new Error("input role is not implemented yet")},option:(e,t)=>q.default(e,t),radio(e,t){throw new Error("radio role is not implemented yet")},separator:(e,t)=>(t.disabled="",t.indicator=[t.indicator," "].find(e=>null!=e),t.message=t.message||e.symbols.line.repeat(5),t),spacer:(e,t)=>t},{reorder:z,scrollUp:H,scrollDown:V,isObject:Y,swap:X}=I;function W(e,t){if(t instanceof Promise)return t;if("function"==typeof t){if(I.isAsyncFn(t))return t;t=t.call(e,e)}for(let r of t){if(Array.isArray(r.choices)){let t=r.choices.filter(t=>!e.isDisabled(t));r.enabled=t.every(e=>!0===e.enabled)}!0===e.isDisabled(r)&&delete r.enabled}return t}var K=class extends U{constructor(e){super(e),this.cursorHide(),this.maxSelected=e.maxSelected||Infinity,this.multiple=e.multiple||!1,this.initial=e.initial||0,this.delay=e.delay||0,this.longest=0,this.num=""}async initialize(){"function"==typeof this.options.initial&&(this.initial=await this.options.initial.call(this)),await this.reset(!0),await super.initialize()}async reset(){let{choices:e,initial:t,autofocus:r,suggest:i}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(e)),this.choices.forEach(e=>e.enabled=!1),"function"!=typeof i&&0===this.selectable.length)throw new Error("At least one choice must be selectable");Y(t)&&(t=Object.keys(t)),Array.isArray(t)?(null!=r&&(this.index=this.findIndex(r)),t.forEach(e=>this.enable(this.find(e))),await this.render()):(null!=r&&(t=r),"string"==typeof t&&(t=this.findIndex(t)),"number"==typeof t&&t>-1&&(this.index=Math.max(0,Math.min(t,this.choices.length)),this.enable(this.find(this.index)))),this.isDisabled(this.focused)&&await this.down()}async toChoices(e,t){this.state.loadingChoices=!0;let r=[],i=0,n=async(e,t)=>{"function"==typeof e&&(e=await e.call(this)),e instanceof Promise&&(e=await e);for(let s=0;s<e.length;s++){let o=e[s]=await this.toChoice(e[s],i++,t);r.push(o),o.choices&&await n(o.choices,o)}return r};return n(e,t).then(e=>(this.state.loadingChoices=!1,e))}async toChoice(e,t,r){if("function"==typeof e&&(e=await e.call(this,this)),e instanceof Promise&&(e=await e),"string"==typeof e&&(e={name:e}),e.normalized)return e;e.normalized=!0;let i=e.value,n=((e,t={})=>{let r=I.merge({},q,t.roles);return r[e]||r.default})(e.role,this.options);if("string"!=typeof(e=n(this,e)).disabled||e.hint||(e.hint=e.disabled,e.disabled=!0),!0===e.disabled&&null==e.hint&&(e.hint="(disabled)"),null!=e.index)return e;e.name=e.name||e.key||e.title||e.value||e.message,e.message=e.message||e.name||"",e.value=[e.value,e.name].find(this.isValue.bind(this)),e.input="",e.index=t,e.cursor=0,I.define(e,"parent",r),e.level=r?r.level+1:1,null==e.indent&&(e.indent=r?r.indent+"  ":e.indent||""),e.path=r?r.path+"."+e.name:e.name,e.enabled=!(!this.multiple||this.isDisabled(e)||!e.enabled&&!this.isSelected(e)),this.isDisabled(e)||(this.longest=Math.max(this.longest,x.unstyle(e.message).length));let s=w({},e);return e.reset=(t=s.input,r=s.value)=>{for(let t of Object.keys(s))e[t]=s[t];e.input=t,e.value=r},null==i&&"function"==typeof e.initial&&(e.input=await e.initial.call(this,this.state,e,t)),e}async onChoice(e,t){this.emit("choice",e,t,this),"function"==typeof e.onChoice&&await e.onChoice.call(this,this.state,e,t)}async addChoice(e,t,r){let i=await this.toChoice(e,t,r);return this.choices.push(i),this.index=this.choices.length-1,this.limit=this.choices.length,i}async newItem(e,t,r){let i=w({name:"New choice name?",editable:!0,newChoice:!0},e),n=await this.addChoice(i,t,r);return n.updateChoice=()=>{delete n.newChoice,n.name=n.message=n.input,n.input="",n.cursor=0},this.render()}indent(e){return null==e.indent?e.level>1?"  ".repeat(e.level-1):"":e.indent}dispatch(e,t){if(this.multiple&&this[t.name])return this[t.name]();this.alert()}focus(e,t){return"boolean"!=typeof t&&(t=e.enabled),t&&!e.enabled&&this.selected.length>=this.maxSelected?this.alert():(this.index=e.index,e.enabled=t&&!this.isDisabled(e),e)}space(){return this.multiple?(this.toggle(this.focused),this.render()):this.alert()}a(){if(this.maxSelected<this.choices.length)return this.alert();let e=this.selectable.every(e=>e.enabled);return this.choices.forEach(t=>t.enabled=!e),this.render()}i(){return this.choices.length-this.selected.length>this.maxSelected?this.alert():(this.choices.forEach(e=>e.enabled=!e.enabled),this.render())}g(e=this.focused){return this.choices.some(e=>!!e.parent)?(this.toggle(e.parent&&!e.choices?e.parent:e),this.render()):this.a()}toggle(e,t){if(!e.enabled&&this.selected.length>=this.maxSelected)return this.alert();"boolean"!=typeof t&&(t=!e.enabled),e.enabled=t,e.choices&&e.choices.forEach(e=>this.toggle(e,t));let r=e.parent;for(;r;){let e=r.choices.filter(e=>this.isDisabled(e));r.enabled=e.every(e=>!0===e.enabled),r=r.parent}return W(this,this.choices),this.emit("toggle",e,this),e}enable(e){return this.selected.length>=this.maxSelected?this.alert():(e.enabled=!this.isDisabled(e),e.choices&&e.choices.forEach(this.enable.bind(this)),e)}disable(e){return e.enabled=!1,e.choices&&e.choices.forEach(this.disable.bind(this)),e}number(e){this.num+=e;let t=e=>{let t=Number(e);if(t>this.choices.length-1)return this.alert();let r=this.focused,i=this.choices.find(e=>t===e.index);if(!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(-1===this.visible.indexOf(i)){let e=z(this.choices),t=e.indexOf(i);if(r.index>t){let r=e.slice(t,t+this.limit),i=e.filter(e=>!r.includes(e));this.choices=r.concat(i)}else{let r=t-this.limit+1;this.choices=e.slice(r).concat(e.slice(0,r))}}return this.index=this.choices.indexOf(i),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise(e=>{let r=this.choices.length,i=this.num,n=(r=!1,n)=>{clearTimeout(this.numberTimeout),r&&(n=t(i)),this.num="",e(n)};return"0"===i||1===i.length&&Number(i+"0")>r?n(!0):Number(i)>r?n(!1,this.alert()):void(this.numberTimeout=setTimeout(()=>n(!0),this.delay))})}home(){return this.choices=z(this.choices),this.index=0,this.render()}end(){let e=this.choices.length-this.limit,t=z(this.choices);return this.choices=t.slice(e).concat(t.slice(0,e)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){return this.visible.length<=1?this.alert():this.up()}next(){return this.visible.length<=1?this.alert():this.down()}right(){return this.cursor>=this.input.length?this.alert():(this.cursor++,this.render())}left(){return this.cursor<=0?this.alert():(this.cursor--,this.render())}up(){let e=this.choices.length,t=this.visible.length,r=this.index;return!1===this.options.scroll&&0===r?this.alert():e>t&&0===r?this.scrollUp():(this.index=(r-1%e+e)%e,this.isDisabled()?this.up():this.render())}down(){let e=this.choices.length,t=this.visible.length,r=this.index;return!1===this.options.scroll&&r===t-1?this.alert():e>t&&r===t-1?this.scrollDown():(this.index=(r+1)%e,this.isDisabled()?this.down():this.render())}scrollUp(e=0){return this.choices=H(this.choices),this.index=e,this.isDisabled()?this.up():this.render()}scrollDown(e=this.visible.length-1){return this.choices=V(this.choices),this.index=e,this.isDisabled()?this.down():this.render()}async shiftUp(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index-1),await this.up(),void(this.sorting=!1)):this.scrollUp(this.index)}async shiftDown(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index+1),await this.down(),void(this.sorting=!1)):this.scrollDown(this.index)}pageUp(){return this.visible.length<=1?this.alert():(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled()?this.up():this.render())}pageDown(){return this.visible.length>=this.choices.length?this.alert():(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled()?this.down():this.render())}swap(e){X(this.choices,this.index,e)}isDisabled(e=this.focused){return!(!e||!["disabled","collapsed","hidden","completing","readonly"].some(t=>!0===e[t]))||e&&"heading"===e.role}isEnabled(e=this.focused){if(Array.isArray(e))return e.every(e=>this.isEnabled(e));if(e.choices){let t=e.choices.filter(e=>!this.isDisabled(e));return e.enabled&&t.every(e=>this.isEnabled(e))}return e.enabled&&!this.isDisabled(e)}isChoice(e,t){return e.name===t||e.index===Number(t)}isSelected(e){return Array.isArray(this.initial)?this.initial.some(t=>this.isChoice(e,t)):this.isChoice(e,this.initial)}map(e=[],t="value"){return[].concat(e||[]).reduce((e,r)=>(e[r]=this.find(r,t),e),{})}filter(e,t){let r=(this.options.multiple?this.state._choices:this.choices).filter("function"==typeof e?e:(t,r)=>[t.name,r].includes(e));return t?r.map(e=>e[t]):r}find(e,t){if(Y(e))return t?e[t]:e;let r=this.choices.find("function"==typeof e?e:(t,r)=>[t.name,r].includes(e));return r?t?r[t]:r:void 0}findIndex(e){return this.choices.indexOf(this.find(e))}async submit(){let e=this.focused;if(!e)return this.alert();if(e.newChoice)return e.input?(e.updateChoice(),this.render()):this.alert();if(this.choices.some(e=>e.newChoice))return this.alert();let{reorder:t,sort:r}=this.options,i=!0===this.multiple,n=this.selected;return void 0===n?this.alert():(Array.isArray(n)&&!1!==t&&!0!==r&&(n=I.reorder(n)),this.value=i?n.map(e=>e.name):n.name,super.submit())}set choices(e=[]){this.state._choices=this.state._choices||[],this.state.choices=e;for(let t of e)this.state._choices.some(e=>e.name===t.name)||this.state._choices.push(t);if(!this._initial&&this.options.initial){this._initial=!0;let e=this.initial;if("string"==typeof e||"number"==typeof e){let t=this.find(e);t&&(this.initial=t.index,this.focus(t,!0))}}}get choices(){return W(this,this.state.choices||[])}set visible(e){this.state.visible=e}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(e){this.state.limit=e}get limit(){let{state:e,options:t,choices:r}=this;return Math.min(e.limit||this._limit||t.limit||r.length,this.height)}set value(e){super.value=e}get value(){return"string"!=typeof super.value&&super.value===this.initial?this.input:super.value}set index(e){this.state.index=e}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let e=this.choices[this.index];return e&&this.state.submitted&&!0!==this.multiple&&(e.enabled=!0),e}get selectable(){return this.choices.filter(e=>!this.isDisabled(e))}get selected(){return this.multiple?this.enabled:this.focused}},J=class extends K{constructor(e){super(e),this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(e,t){if(this.multiple)return this[t.name]?await this[t.name](e,t):await super.dispatch(e,t);this.alert()}separator(){if(this.options.separator)return super.separator();let e=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():e}pointer(e,t){return!this.multiple||this.options.pointer?super.pointer(e,t):""}indicator(e,t){return this.multiple?super.indicator(e,t):""}choiceMessage(e,t){let r=this.resolve(e.message,this.state,e,t);return"heading"!==e.role||I.hasColor(r)||(r=this.styles.strong(r)),this.resolve(r,this.state,e,t)}choiceSeparator(){return":"}async renderChoice(e,t){await this.onChoice(e,t);let r=this.index===t,i=await this.pointer(e,t),n=await this.indicator(e,t)+(e.pad||""),s=await this.resolve(e.hint,this.state,e,t);s&&!I.hasColor(s)&&(s=this.styles.muted(s));let o=this.indent(e),a=await this.choiceMessage(e,t),c=()=>[this.margin[3],o+i+n,a,this.margin[1],s].filter(Boolean).join(" ");return"heading"===e.role?c():e.disabled?(I.hasColor(a)||(a=this.styles.disabled(a)),c()):(r&&(a=this.styles.em(a)),c())}async renderChoices(){if("choices"===this.state.loading)return this.styles.warning("Loading choices");if(this.state.submitted)return"";let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e);t.length||t.push(this.styles.danger("No matching choices"));let r,i=this.margin[0]+t.join("\n");return this.options.choicesHeader&&(r=await this.resolve(this.options.choicesHeader,this.state)),[r,i].filter(Boolean).join("\n")}format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(e=>this.styles.primary(e.name)).join(", "):this.styles.primary(this.selected.name)}async render(){let{submitted:e,size:t}=this.state,r="",i=await this.header(),n=await this.prefix(),s=await this.separator(),o=await this.message();!1!==this.options.promptLine&&(r=[n,o,s,""].join(" "),this.state.prompt=r);let a=await this.format(),c=await this.error()||await this.hint(),l=await this.renderChoices(),u=await this.footer();a&&(r+=a),c&&!r.includes(c)&&(r+=" "+c),e&&!a&&!l.trim()&&this.multiple&&null!=this.emptyError&&(r+=this.styles.danger(this.emptyError)),this.clear(t),this.write([i,r,l,u].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}},Z=class extends J{constructor(e){super(e),this.cursorShow()}moveCursor(e){this.state.cursor+=e}dispatch(e){return this.append(e)}space(e){return this.options.multiple?super.space(e):this.append(e)}append(e){let{cursor:t,input:r}=this.state;return this.input=r.slice(0,t)+e+r.slice(t),this.moveCursor(1),this.complete()}delete(){let{cursor:e,input:t}=this.state;return t?(this.input=t.slice(0,e-1)+t.slice(e),this.moveCursor(-1),this.complete()):this.alert()}deleteForward(){let{cursor:e,input:t}=this.state;return void 0===t[e]?this.alert():(this.input=(""+t).slice(0,e)+(""+t).slice(e+1),this.complete())}number(e){return this.append(e)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(e=this.input,t=this.state._choices){if("function"==typeof this.options.suggest)return this.options.suggest.call(this,e,t);let r=e.toLowerCase();return t.filter(e=>e.message.toLowerCase().includes(r))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map(e=>this.styles.primary(e.message)).join(", ");if(this.state.submitted){let e=this.value=this.input=this.focused.value;return this.styles.primary(e)}return this.input}async render(){if("pending"!==this.state.status)return super.render();let e=((e,t)=>{let r=this.input.toLowerCase();return e=>{let i=e.toLowerCase().indexOf(r),n=t(e.slice(i,i+r.length));return i>=0?e.slice(0,i)+n+e.slice(i+r.length):e}})(0,this.options.highlight?this.options.highlight.bind(this):this.styles.placeholder),t=this.choices;this.choices=t.map(t=>w({},t,{message:e(t.message)})),await super.render(),this.choices=t}submit(){return this.options.multiple&&(this.value=this.selected.map(e=>e.name)),super.submit()}},Q=(e,t={})=>{e.cursorHide();let{input:r="",initial:i="",pos:n,showCursor:s=!0,color:o}=t,a=o||e.styles.placeholder,c=I.inverse(e.styles.primary),l=t=>c(e.styles.black(t)),u=r,h=l(" ");if(e.blink&&!0===e.blink.off&&(l=e=>e,h=""),s&&0===n&&""===i&&""===r)return l(" ");if(s&&0===n&&(r===i||""===r))return l(i[0])+a(i.slice(1));i=I.isPrimitive(i)?""+i:"",r=I.isPrimitive(r)?""+r:"";let p=i&&i.startsWith(r)&&i!==r,d=p?l(i[r.length]):h;if(n!==r.length&&!0===s&&(u=r.slice(0,n)+l(r[n])+r.slice(n+1),d=""),!1===s&&(d=""),p){let t=e.styles.unstyle(u+d);return u+d+a(i.slice(t.length))}return u+d},ee=class extends J{constructor(e){super(w({},e,{multiple:!0})),this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find(e=>null!=e),this.emptyError="",this.values={}}async reset(e){return await super.reset(),!0===e&&(this._index=this.index),this.index=this._index,this.values={},this.choices.forEach(e=>e.reset&&e.reset()),this.render()}dispatch(e){return!!e&&this.append(e)}append(e){let t=this.focused;if(!t)return this.alert();let{cursor:r,input:i}=t;return t.value=t.input=i.slice(0,r)+e+i.slice(r),t.cursor++,this.render()}delete(){let e=this.focused;if(!e||e.cursor<=0)return this.alert();let{cursor:t,input:r}=e;return e.value=e.input=r.slice(0,t-1)+r.slice(t),e.cursor--,this.render()}deleteForward(){let e=this.focused;if(!e)return this.alert();let{cursor:t,input:r}=e;if(void 0===r[t])return this.alert();let i=(""+r).slice(0,t)+(""+r).slice(t+1);return e.value=e.input=i,this.render()}right(){let e=this.focused;return e?e.cursor>=e.input.length?this.alert():(e.cursor++,this.render()):this.alert()}left(){let e=this.focused;return e?e.cursor<=0?this.alert():(e.cursor--,this.render()):this.alert()}space(e,t){return this.dispatch(e,t)}number(e,t){return this.dispatch(e,t)}next(){let e=this.focused;if(!e)return this.alert();let{initial:t,input:r}=e;return t&&t.startsWith(r)&&r!==t?(e.value=e.input=t,e.cursor=e.value.length,this.render()):super.next()}prev(){let e=this.focused;return e?0===e.cursor?super.prev():(e.value=e.input="",e.cursor=0,this.render()):this.alert()}separator(){return""}format(e){return this.state.submitted?"":super.format(e)}pointer(){return""}indicator(e){return e.input?"‚¶ø":"‚äô"}async choiceSeparator(e,t){let r=await this.resolve(e.separator,this.state,e,t)||":";return r?" "+this.styles.disabled(r):""}async renderChoice(e,t){await this.onChoice(e,t);let{state:r,styles:i}=this,{cursor:n,initial:s="",name:o,hint:a,input:c=""}=e,{muted:l,submitted:u,primary:h,danger:p}=i,d=a,f=this.index===t,m=e.validate||(()=>!0),y=await this.choiceSeparator(e,t),g=e.message;"right"===this.align&&(g=g.padStart(this.longest+1," ")),"left"===this.align&&(g=g.padEnd(this.longest+1," "));let w=this.values[o]=c||s,b=c?"success":"dark";!0!==await m.call(e,w,this.state)&&(b="danger");let v=(0,i[b])(await this.indicator(e,t))+(e.pad||""),E=this.indent(e),S=()=>[E,v,g+y,c,d].filter(Boolean).join(" ");return r.submitted?(g=x.unstyle(g),c=u(c),d="",S()):(c=e.format?await e.format.call(this,c,e,t):Q(this,{input:c,initial:s,pos:n,showCursor:f,color:this.styles.muted}),this.isValue(c)||(c=this.styles.muted(this.symbols.ellipsis)),e.result&&(this.values[o]=await e.result.call(this,w,e,t)),f&&(g=h(g)),e.error?c+=(c?" ":"")+p(e.error.trim()):e.hint&&(c+=(c?" ":"")+l(e.hint.trim())),S())}async submit(){return this.value=this.values,super.base.submit.call(this)}};const te=()=>{throw new Error("expected prompt to have a custom authenticate method")},re=(e=te)=>class extends ee{constructor(e){super(e)}async submit(){this.value=await e.call(this,this.values,this.state),super.base.submit.call(this)}static create(e){return re(e)}};var ie=re();function ne(e,t){return e.username===this.options.username&&e.password===this.options.password}const se=(e=ne)=>{const t=[{name:"username",message:"username"},{name:"password",message:"password",format(e){return this.options.showPassword?e:(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(e.length))}}];class r extends(ie.create(e)){constructor(e){super(w({},e,{choices:t}))}static create(e){return se(e)}}return r};var oe=se();const{isPrimitive:ae,hasColor:ce}=I;var le=class extends U{constructor(e){super(e),this.cursorHide()}async initialize(){let e=await this.resolve(this.initial,this.state);this.input=await this.cast(e),await super.initialize()}dispatch(e){return this.isValue(e)?(this.input=e,this.submit()):this.alert()}format(e){let{styles:t,state:r}=this;return r.submitted?t.success(e):t.primary(e)}cast(e){return this.isTrue(e)}isTrue(e){return/^[ty1]/i.test(e)}isFalse(e){return/^[fn0]/i.test(e)}isValue(e){return ae(e)&&(this.isTrue(e)||this.isFalse(e))}async hint(){if("pending"===this.state.status){let e=await this.element("hint");return ce(e)?e:this.styles.muted(e)}}async render(){let{input:e,size:t}=this.state,r=await this.prefix(),i=await this.separator(),n=[r,await this.message(),this.styles.muted(this.default),i].filter(Boolean).join(" ");this.state.prompt=n;let s=await this.header(),o=this.value=this.cast(e),a=await this.format(o),c=await this.error()||await this.hint(),l=await this.footer();c&&!n.includes(c)&&(a+=" "+c),n+=" "+a,this.clear(t),this.write([s,n,l].filter(Boolean).join("\n")),this.restore()}set value(e){super.value=e}get value(){return this.cast(super.value)}},ue=class extends le{constructor(e){super(e),this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}};const he=ee.prototype;var pe=class extends J{constructor(e){super(w({},e,{multiple:!0})),this.align=[this.options.align,"left"].find(e=>null!=e),this.emptyError="",this.values={}}dispatch(e,t){let r=this.focused;return r.editable||(r.parent||{}).editable||"a"!==e&&"i"!==e?he.dispatch.call(this,e,t):super[e]()}append(e,t){return he.append.call(this,e,t)}delete(e,t){return he.delete.call(this,e,t)}space(e){return this.focused.editable?this.append(e):super.space()}number(e){return this.focused.editable?this.append(e):super.number(e)}next(){return this.focused.editable?he.next.call(this):super.next()}prev(){return this.focused.editable?he.prev.call(this):super.prev()}async indicator(e,t){let r=e.editable?e.indicator||"":super.indicator(e,t);return await this.resolve(r,this.state,e,t)||""}indent(e){return"heading"===e.role?"":e.editable?" ":"  "}async renderChoice(e,t){return e.indent="",e.editable?he.renderChoice.call(this,e,t):super.renderChoice(e,t)}error(){return""}footer(){return this.state.error}async validate(){let e=!0;for(let t of this.choices){if("function"!=typeof t.validate)continue;if("heading"===t.role)continue;let r=t.parent?this.value[t.parent.name]:this.value;if(t.editable?r=t.value===t.name?t.initial||"":t.value:this.isDisabled(t)||(r=!0===t.enabled),e=await t.validate(r,this.state),!0!==e)break}return!0!==e&&(this.state.error="string"==typeof e?e:"Invalid Input"),e}submit(){if(!0===this.focused.newChoice)return super.submit();if(this.choices.some(e=>e.newChoice))return this.alert();this.value={};for(let e of this.choices){let t=e.parent?this.value[e.parent.name]:this.value;"heading"!==e.role?e.editable?t[e.name]=e.value===e.name?e.initial||"":e.value:this.isDisabled(e)||(t[e.name]=!0===e.enabled):this.value[e.name]={}}return this.base.submit.call(this)}};const{isPrimitive:de}=I;var fe=class extends U{constructor(e){super(e),this.initial=de(this.initial)?String(this.initial):"",this.initial&&this.cursorHide(),this.state.prevCursor=0,this.state.clipboard=[]}async keypress(e,t={}){let r=this.state.prevKeypress;return this.state.prevKeypress=t,!0!==this.options.multiline||"return"!==t.name||r&&"return"===r.name?super.keypress(e,t):this.append("\n",t)}moveCursor(e){this.cursor+=e}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(e,t){if(!e||t.ctrl||t.code)return this.alert();this.append(e)}append(e){let{cursor:t,input:r}=this.state;this.input=(""+r).slice(0,t)+e+(""+r).slice(t),this.moveCursor(String(e).length),this.render()}insert(e){this.append(e)}delete(){let{cursor:e,input:t}=this.state;if(e<=0)return this.alert();this.input=(""+t).slice(0,e-1)+(""+t).slice(e),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:e,input:t}=this.state;if(void 0===t[e])return this.alert();this.input=(""+t).slice(0,e)+(""+t).slice(e+1),this.render()}cutForward(){let e=this.cursor;if(this.input.length<=e)return this.alert();this.state.clipboard.push(this.input.slice(e)),this.input=this.input.slice(0,e),this.render()}cutLeft(){let e=this.cursor;if(0===e)return this.alert();let t=this.input.slice(0,e),r=this.input.slice(e),i=t.split(" ");this.state.clipboard.push(i.pop()),this.input=i.join(" "),this.cursor=this.input.length,this.input+=r,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){this.state.prevCursor?(this.cursor=this.state.prevCursor,this.state.prevCursor=0):(this.state.prevCursor=this.cursor,this.cursor=0),this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let e=null!=this.initial?String(this.initial):"";if(!e||!e.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){return this.cursor>=this.input.length?this.alert():(this.moveCursor(1),this.render())}left(){return this.cursor<=0?this.alert():(this.moveCursor(-1),this.render())}isValue(e){return!!e}async format(e=this.value){let t=await this.resolve(this.initial,this.state);return this.state.submitted?this.styles.submitted(e||t):Q(this,{input:e,initial:t,pos:this.cursor})}async render(){let e=this.state.size,t=await this.prefix(),r=await this.separator(),i=[t,await this.message(),r].filter(Boolean).join(" ");this.state.prompt=i;let n=await this.header(),s=await this.format(),o=await this.error()||await this.hint(),a=await this.footer();o&&!s.includes(o)&&(s+=" "+o),i+=" "+s,this.clear(e),this.write([n,i,a].filter(Boolean).join("\n")),this.restore()}};const me=e=>(e=>e.filter((t,r)=>e.lastIndexOf(t)===r))(e).filter(Boolean);var ye=(e,t={},r="")=>{let i,n,{past:s=[],present:o=""}=t;switch(e){case"prev":case"undo":return i=s.slice(0,s.length-1),n=s[s.length-1]||"",{past:me([r,...i]),present:n};case"next":case"redo":return i=s.slice(1),n=s[0]||"",{past:me([...i,r]),present:n};case"save":return{past:me([...s,r]),present:""};case"remove":return n=me(s.filter(e=>e!==r)),o="",n.length&&(o=n.pop()),{past:n,present:o};default:throw new Error(`Invalid action: "${e}"`)}},ge=class extends fe{constructor(e){super(e);let t=this.options.history;if(t&&t.store){let e=t.values||this.initial;this.autosave=!!t.autosave,this.store=t.store,this.data=this.store.get("values")||{past:[],present:e},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(e){return this.store?(this.data=ye(e,this.data,this.input),this.data.present?(this.input=this.data.present,this.cursor=this.input.length,this.render()):this.alert()):this.alert()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){this.store&&(this.data=ye("save",this.data,this.input),this.store.set("values",this.data))}submit(){return this.store&&!0===this.autosave&&this.save(),super.submit()}},we=class extends fe{format(){return""}},be=class extends fe{constructor(e={}){super(e),this.sep=this.options.separator||/, */,this.initial=e.initial||""}split(e=this.value){return e?String(e).split(this.sep):[]}format(){return this.list.map(this.state.submitted?this.styles.primary:e=>e).join(", ")}async submit(e){let t=this.state.error||await this.validate(this.list,this.state);return!0!==t?(this.state.error=t,super.submit()):(this.value=this.list,super.submit())}get list(){return this.split()}},ve=class extends J{constructor(e){super(w({},e,{multiple:!0}))}},Ee=class extends fe{constructor(e={}){super(w({style:"number"},e)),this.min=this.isValue(e.min)?this.toNumber(e.min):-Infinity,this.max=this.isValue(e.max)?this.toNumber(e.max):Infinity,this.delay=null!=e.delay?e.delay:1e3,this.float=!1!==e.float,this.round=!0===e.round||!1===e.float,this.major=e.major||10,this.minor=e.minor||1,this.initial=null!=e.initial?e.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(e){return!/[-+.]/.test(e)||"."===e&&this.input.includes(".")?this.alert("invalid number"):super.append(e)}number(e){return super.append(e)}next(){return this.input&&this.input!==this.initial?this.alert():this.isValue(this.initial)?(this.input=this.initial,this.cursor=String(this.initial).length,this.render()):this.alert()}up(e){let t=e||this.minor,r=this.toNumber(this.input);return r>this.max+t?this.alert():(this.input=""+(r+t),this.render())}down(e){let t=e||this.minor,r=this.toNumber(this.input);return r<this.min-t?this.alert():(this.input=""+(r-t),this.render())}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(e=this.input){return"function"==typeof this.options.format?this.options.format.call(this,e):this.styles.info(e)}toNumber(e=""){return this.float?+e:Math.round(+e)}isValue(e){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(e)}submit(){let e=[this.input,this.initial].find(e=>this.isValue(e));return this.value=this.toNumber(e||0),super.submit()}},Se=Ee,Oe=class extends fe{constructor(e){super(e),this.cursorShow()}format(e=this.input){return this.keypressed?(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(e.length)):""}},xe=class extends K{constructor(e={}){super(e),this.widths=[].concat(e.messageWidth||50),this.align=[].concat(e.align||"left"),this.linebreak=e.linebreak||!1,this.edgeLength=e.edgeLength||3,this.newline=e.newline||"\n   ";let t=e.startNumber||1;"number"==typeof this.scale&&(this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((e,r)=>({name:r+t})))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(!0===this.tableized)return;this.tableized=!0;let e=0;for(let t of this.choices){e=Math.max(e,t.message.length),t.scaleIndex=t.initial||2,t.scale=[];for(let e=0;e<this.scale.length;e++)t.scale.push({index:e})}this.widths[0]=Math.min(this.widths[0],e+3)}async dispatch(e,t){if(this.multiple)return this[t.name]?await this[t.name](e,t):await super.dispatch(e,t);this.alert()}heading(e,t,r){return this.styles.strong(e)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let e=this.focused;return e.scaleIndex>=this.scale.length-1?this.alert():(e.scaleIndex++,this.render())}left(){let e=this.focused;return e.scaleIndex<=0?this.alert():(e.scaleIndex--,this.render())}indent(){return""}format(){return this.state.submitted?this.choices.map(e=>this.styles.info(e.index)).join(", "):""}pointer(){return""}renderScaleKey(){return!1===this.scaleKey||this.state.submitted?"":["",...this.scale.map(e=>`   ${e.name} - ${e.message}`)].map(e=>this.styles.muted(e)).join("\n")}renderScaleHeading(e){let t=this.scale.map(e=>e.name);"function"==typeof this.options.renderScaleHeading&&(t=this.options.renderScaleHeading.call(this,e));let r=this.scaleLength-t.join("").length,i=Math.round(r/(t.length-1)),n=t.map(e=>this.styles.strong(e)).join(" ".repeat(i)),s=" ".repeat(this.widths[0]);return this.margin[3]+s+this.margin[1]+n}scaleIndicator(e,t,r){if("function"==typeof this.options.scaleIndicator)return this.options.scaleIndicator.call(this,e,t,r);let i=e.scaleIndex===t.index;return t.disabled?this.styles.hint(this.symbols.radio.disabled):i?this.styles.success(this.symbols.radio.on):this.symbols.radio.off}renderScale(e,t){return e.scale.map(r=>this.scaleIndicator(e,r,t)).join(("Hyper"===this.term?"":" ")+this.symbols.line.repeat(this.edgeLength))}async renderChoice(e,t){await this.onChoice(e,t);let r=this.index===t,i=await this.pointer(e,t),n=await e.hint;n&&!I.hasColor(n)&&(n=this.styles.muted(n));let s=e=>this.margin[3]+e.replace(/\s+$/,"").padEnd(this.widths[0]," "),o=this.newline,a=this.indent(e),c=await this.resolve(e.message,this.state,e,t),l=await this.renderScale(e,t),u=this.margin[1]+this.margin[3];this.scaleLength=x.unstyle(l).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-u.length);let h=I.wordWrap(c,{width:this.widths[0],newline:o}).split("\n").map(e=>s(e)+this.margin[1]);return r&&(l=this.styles.info(l),h=h.map(e=>this.styles.info(e))),h[0]+=l,this.linebreak&&h.push(""),[a+i,h.join("\n")].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e),r=await this.renderScaleHeading();return this.margin[0]+[r,...t.map(e=>e.join(" "))].join("\n")}async render(){let{submitted:e,size:t}=this.state,r=await this.prefix(),i=await this.separator(),n=await this.message(),s="";!1!==this.options.promptLine&&(s=[r,n,i,""].join(" "),this.state.prompt=s);let o=await this.header(),a=await this.format(),c=await this.renderScaleKey(),l=await this.error()||await this.hint(),u=await this.renderChoices(),h=await this.footer(),p=this.emptyError;a&&(s+=a),l&&!s.includes(l)&&(s+=" "+l),e&&!a&&!u.trim()&&this.multiple&&null!=p&&(s+=this.styles.danger(p)),this.clear(t),this.write([o,s,c,u,h].filter(Boolean).join("\n")),this.state.submitted||this.write(this.margin[2]),this.restore()}submit(){this.value={};for(let e of this.choices)this.value[e.name]=e.scaleIndex;return this.base.submit.call(this)}};class Ie{constructor(e){this.name=e.key,this.field=e.field||{},this.value=((e="")=>"string"==typeof e?e.replace(/^['"]|['"]$/g,""):"")(e.initial||this.field.initial||""),this.message=e.message||this.name,this.cursor=0,this.input="",this.lines=[]}}function Te(e,t,r,i){return(r,n,s,o)=>"function"==typeof s.field[e]?s.field[e].call(t,r,n,s,o):[i,r].find(e=>t.isValue(e))}var Re=class extends U{constructor(e){super(e),this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await(async e=>{let t=e.options,r=new Set(!0===t.required?[]:t.required||[]),i=w({},t.values,t.initial),{tabstops:n,items:s,keys:o}=await(async(e={},t={},r=(e=>e))=>{let i=new Set,n=e.fields||[],s=e.template,o=[],a=[],c=[],l=1;"function"==typeof s&&(s=await s());let u=-1,h=()=>s[++u],p=()=>s[u+1],d=e=>{e.line=l,o.push(e)};for(d({type:"bos",value:""});u<s.length-1;){let e=h();if(/^[^\S\n ]$/.test(e)){d({type:"text",value:e});continue}if("\n"===e){d({type:"newline",value:e}),l++;continue}if("\\"===e){e+=h(),d({type:"text",value:e});continue}if(("$"===e||"#"===e||"{"===e)&&"{"===p()){e+=h();let s,o={type:"template",open:e,inner:"",close:"",value:e};for(;s=h();){if("}"===s){"}"===p()&&(s+=h()),o.value+=s,o.close=s;break}":"===s?(o.initial="",o.key=o.inner):void 0!==o.initial&&(o.initial+=s),o.value+=s,o.inner+=s}o.template=o.open+(o.initial||o.inner)+o.close,o.key=o.key||o.inner,t.hasOwnProperty(o.key)&&(o.initial=t[o.key]),o=r(o),d(o),c.push(o.key),i.add(o.key);let l=a.find(e=>e.name===o.key);o.field=n.find(e=>e.name===o.key),l||(l=new Ie(o),a.push(l)),l.lines.push(o.line-1);continue}let s=o[o.length-1];"text"===s.type&&s.line===l?s.value+=e:d({type:"text",value:e})}return d({type:"eos",value:""}),{input:s,tabstops:o,unique:i,keys:c,items:a}})(t,i),a=Te("result",e),c=Te("format",e),l=Te("validate",e,0,!0),u=e.isValue.bind(e);return async(i={},h=!1)=>{let p=0;i.required=r,i.items=s,i.keys=o,i.output="";let d=async(e,t,r,i)=>{let n=await l(e,t,r,i);return!1===n?"Invalid field "+r.name:n};for(let r of n){let n=r.value,o=r.key;if("template"===r.type){if("template"===r.type){let l=s.find(e=>e.name===o);!0===t.required&&i.required.add(l.name);let f=[l.input,i.values[l.value],l.value,n].find(u),m=(l.field||{}).message||r.inner;if(h){let e=await d(i.values[o],i,l,p);if(e&&"string"==typeof e||!1===e){i.invalid.set(o,e);continue}i.invalid.delete(o);let t=await a(i.values[o],i,l,p);i.output+=x.unstyle(t);continue}l.placeholder=!1;let y=n;n=await c(n,i,l,p),f!==n?(i.values[o]=f,n=e.styles.typing(f),i.missing.delete(m)):(i.values[o]=void 0,f=`<${m}>`,n=e.styles.primary(f),l.placeholder=!0,i.required.has(o)&&i.missing.add(m)),i.missing.has(m)&&i.validating&&(n=e.styles.warning(f)),i.invalid.has(o)&&i.validating&&(n=e.styles.danger(f)),p===i.index&&(n=y!==n?e.styles.underline(n):e.styles.heading(x.unstyle(n))),p++}n&&(i.output+=n)}else n&&(i.output+=n)}let f=i.output.split("\n").map(e=>" "+e),m=s.length,y=0;for(let t of s)i.invalid.has(t.name)&&t.lines.forEach(e=>{" "===f[e][0]&&(f[e]=i.styles.danger(i.symbols.bullet)+f[e].slice(1))}),e.isValue(i.values[t.name])&&y++;return i.completed=(y/m*100).toFixed(0),i.output=f.join("\n"),i.output}})(this),await super.initialize()}async reset(e){this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},!0!==e&&(await this.initialize(),await this.render())}moveCursor(e){let t=this.getItem();this.cursor+=e,t.cursor+=e}dispatch(e,t){t.code||t.ctrl||null==e||!this.getItem()?this.alert():this.append(e,t)}append(e,t){let r=this.getItem(),i=r.input.slice(0,this.cursor),n=r.input.slice(this.cursor);this.input=r.input=`${i}${e}${n}`,this.moveCursor(1),this.render()}delete(){let e=this.getItem();if(this.cursor<=0||!e.input)return this.alert();let t=e.input.slice(this.cursor),r=e.input.slice(0,this.cursor-1);this.input=e.input=`${r}${t}`,this.moveCursor(-1),this.render()}increment(e){return e>=this.state.keys.length-1?0:e+1}decrement(e){return e<=0?this.state.keys.length-1:e-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(e){let t=this.state.completed<100?this.styles.warning:this.styles.success;return!0===this.state.submitted&&100!==this.state.completed&&(t=this.styles.danger),t(this.state.completed+"% completed")}async render(){let{index:e,keys:t=[],submitted:r,size:i}=this.state,n=[this.options.newline,"\n"].find(e=>null!=e),s=await this.prefix(),o=await this.separator(),a=[s,await this.message(),o].filter(Boolean).join(" ");this.state.prompt=a;let c=await this.header(),l=await this.error()||"",u=await this.hint()||"",h=r?"":await this.interpolate(this.state),p=this.state.key=t[e]||"",d=await this.format(p),f=await this.footer();d&&(a+=" "+d),u&&!d&&0===this.state.completed&&(a+=" "+u),this.clear(i);let m=[c,a,h,f,l.trim()];this.write(m.filter(Boolean).join(n)),this.restore()}getItem(e){let{items:t,keys:r,index:i}=this.state,n=t.find(e=>e.name===r[i]);return n&&null!=n.input&&(this.input=n.input,this.cursor=n.cursor),n}async submit(){"function"!=typeof this.interpolate&&await this.initialize(),await this.interpolate(this.state,!0);let{invalid:e,missing:t,output:r,values:i}=this.state;if(e.size){let t="";for(let[r,i]of e)t+=`Invalid ${r}: ${i}\n`;return this.state.error=t,super.submit()}if(t.size)return this.state.error="Required: "+[...t.keys()].join(", "),super.submit();let n=x.unstyle(r).split("\n").map(e=>e.slice(1)).join("\n");return this.value={values:i,result:n},super.submit()}};const Ce="(Use <shift>+<up/down> to sort)";var Ae=class extends J{constructor(e){super(w({},e,{reorder:!1,sort:!0,multiple:!0})),this.state.hint=[this.options.hint,Ce].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(e,t){let r=await super.renderChoice(e,t),i=this.index===t&&this.sorting?this.styles.muted(this.symbols.identicalTo+" "):"  ";return!1===this.options.drag&&(i=""),!0===this.options.numbered?i+(t+1+" - ")+r:i+r}get selected(){return this.choices}submit(){return this.value=this.choices.map(e=>e.value),super.submit()}};function ke(e,t={}){if(Array.isArray(t.scale))return t.scale.map(e=>w({},e));let r=[];for(let t=1;t<e+1;t++)r.push({i:t,selected:!1});return r}var Pe=class extends K{constructor(e={}){if(super(e),this.emptyError=e.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let e=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];e=e.map(e=>this.styles.muted(e)),this.state.header=e.join("\n   ")}}async toChoices(...e){if(this.createdScales)return!1;this.createdScales=!0;let t=await super.toChoices(...e);for(let e of t)e.scale=ke(5,this.options),e.scaleIdx=2;return t}dispatch(){this.alert()}space(){let e=this.focused,t=e.scale[e.scaleIdx],r=t.selected;return e.scale.forEach(e=>e.selected=!1),t.selected=!r,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let e=this.focused;return e.scaleIdx>=e.scale.length-1?this.alert():(e.scaleIdx++,this.render())}left(){let e=this.focused;return e.scaleIdx<=0?this.alert():(e.scaleIdx--,this.render())}indent(){return"   "}async renderChoice(e,t){await this.onChoice(e,t);let r=this.index===t,i="Hyper"===this.term,n=i?9:8,s=i?"":" ",o=this.symbols.line.repeat(n),a=" ".repeat(n+(i?0:1)),c=e=>(e?this.styles.success("‚óâ"):"‚óØ")+s,l=t+1+".",u=r?this.styles.heading:this.styles.noop,h=await this.resolve(e.message,this.state,e,t),p=this.indent(e),d=p+e.scale.map((t,r)=>c(r===e.scaleIdx)).join(o),f=p+e.scale.map((t,r)=>(t=>t===e.scaleIdx?u(t):t)(r)).join(a);return r&&(d=this.styles.cyan(d),f=this.styles.cyan(f)),[[l,h].filter(Boolean).join(" "),d,f," "].filter(Boolean).join("\n")}async renderChoices(){if(this.state.submitted)return"";let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e);return t.length||t.push(this.styles.danger("No matching choices")),t.join("\n")}format(){return this.state.submitted?this.choices.map(e=>this.styles.info(e.scaleIdx)).join(", "):""}async render(){let{submitted:e,size:t}=this.state,r=await this.prefix(),i=await this.separator(),n=[r,await this.message(),i].filter(Boolean).join(" ");this.state.prompt=n;let s=await this.header(),o=await this.format(),a=await this.error()||await this.hint(),c=await this.renderChoices(),l=await this.footer();!o&&a||(n+=" "+o),a&&!n.includes(a)&&(n+=" "+a),e&&!o&&!c&&this.multiple&&"form"!==this.type&&(n+=this.styles.danger(this.emptyError)),this.clear(t),this.write([n,s,c,l].filter(Boolean).join("\n")),this.restore()}submit(){this.value={};for(let e of this.choices)this.value[e.name]=e.scaleIdx;return this.base.submit.call(this)}},Ne=ge,Le=class extends le{async initialize(){await super.initialize(),this.value=this.initial=!!this.options.initial,this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(!0===this.value)return this.alert();this.value=!0,this.render()}disable(){if(!1===this.value)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(e="",t){switch(e.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let e=e=>this.styles.primary.underline(e);return[this.value?this.disabled:e(this.disabled),this.value?e(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:e}=this.state,t=await this.header(),r=await this.prefix(),i=await this.separator(),n=await this.message(),s=await this.format(),o=await this.error()||await this.hint(),a=await this.footer(),c=[r,n,i,s].join(" ");this.state.prompt=c,o&&!c.includes(o)&&(c+=" "+o),this.clear(e),this.write([t,c,a].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}},je=class extends J{constructor(e){if(super(e),"number"!=typeof this.options.correctChoice||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(e,t){let r=await super.toChoices(e,t);if(r.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>r.length)throw new Error("Please specify the index of the correct answer from the list of choices");return r}check(e){return e.index===this.options.correctChoice}async result(e){return{selectedAnswer:e,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}},_e=v(function(e,t){const r=(e,r)=>{I.defineExport(t,e,r),I.defineExport(t,e.toLowerCase(),r)};r("AutoComplete",()=>Z),r("BasicAuth",()=>oe),r("Confirm",()=>ue),r("Editable",()=>pe),r("Form",()=>ee),r("Input",()=>ge),r("Invisible",()=>we),r("List",()=>be),r("MultiSelect",()=>ve),r("Numeral",()=>Se),r("Password",()=>Oe),r("Scale",()=>xe),r("Select",()=>J),r("Snippet",()=>Re),r("Sort",()=>Ae),r("Survey",()=>Pe),r("Text",()=>Ne),r("Toggle",()=>Le),r("Quiz",()=>je)}),De={ArrayPrompt:K,AuthPrompt:ie,BooleanPrompt:le,NumberPrompt:Ee,StringPrompt:fe};class Me extends r{constructor(e,t){super(),this.options=I.merge({},e),this.answers=w({},t)}register(e,r){if(I.isObject(e)){for(let t of Object.keys(e))this.register(t,e[t]);return this}t.equal(typeof r,"function","expected a function");let i=e.toLowerCase();return this.prompts[i]=r.prototype instanceof this.Prompt?r:r(this.Prompt,this),this}async prompt(e=[]){for(let t of[].concat(e))try{"function"==typeof t&&(t=await t.call(this)),await this.ask(I.merge({},this.options,t))}catch(e){return Promise.reject(e)}return this.answers}async ask(e){"function"==typeof e&&(e=await e.call(this));let r=I.merge({},this.options,e),{type:i,name:n}=e,{set:s,get:o}=I;if("function"==typeof i&&(i=await i.call(this,e,this.answers)),!i)return this.answers[n];t(this.prompts[i],`Prompt "${i}" is not registered`);let a=new this.prompts[i](r),c=o(this.answers,n);a.state.answers=this.answers,a.enquirer=this,n&&a.on("submit",e=>{this.emit("answer",n,e,a),s(this.answers,n,e)});let l=a.emit.bind(a);return a.emit=(...e)=>(this.emit.call(this,...e),l(...e)),this.emit("prompt",a,this),r.autofill&&null!=c?(a.value=a.input=c,"show"===r.autofill&&await a.submit()):c=a.value=await a.run(),c}use(e){return e.call(this,this),this}set Prompt(e){this._Prompt=e}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(e){this._Prompt=e}static get Prompt(){return this._Prompt||U}static get prompts(){return _e}static get types(){return De}static get prompt(){const e=(t,...r)=>{let i=new this(...r),n=i.emit.bind(i);return i.emit=(...t)=>(e.emit(...t),n(...t)),i.prompt(t)};return I.mixinEmitter(e,new r),e}}I.mixinEmitter(Me,new r);const Be=Me.prompts;for(let e of Object.keys(Be)){let t=e.toLowerCase(),r=t=>new Be[e](t).run();Me.prompt[t]=r,Me[t]=r,Me[e]||Reflect.defineProperty(Me,e,{get:()=>Be[e]})}const Fe=e=>{I.defineExport(Me,e,()=>Me.types[e])};Fe("ArrayPrompt"),Fe("AuthPrompt"),Fe("BooleanPrompt"),Fe("NumberPrompt"),Fe("StringPrompt");var $e=Me,Ge={"gatsby-source-wordpress":{message:"WordPress"},"gatsby-source-contentful":{message:"Contentful"},"gatsby-source-sanity":{message:"Sanity"},"gatsby-source-datocms":{message:"DatoCMS"},"gatsby-source-shopify":{message:"Shopify"},"gatsby-plugin-netlify-cms":{message:"Netlify CMS",dependencies:["netlify-cms-app"]}},Ue={"gatsby-plugin-sass":{message:"Sass",dependencies:["sass"]},"gatsby-plugin-styled-components":{message:"styled-components",dependencies:["styled-components","babel-plugin-styled-components"]},"gatsby-plugin-emotion":{message:"Emotion",dependencies:["@emotion/react","@emotion/styled"]},"gatsby-plugin-postcss":{message:"PostCSS",dependencies:["postcss"]},"gatsby-plugin-theme-ui":{message:"Theme UI",dependencies:["theme-ui"]}},qe={"gatsby-plugin-google-analytics":{message:"Add the Google Analytics tracking script"},"gatsby-plugin-sharp":{message:"Add responsive images",plugins:["gatsby-transformer-sharp","gatsby-source-filesystem:images"],dependencies:["gatsby-image"],options:{"gatsby-source-filesystem:images":{name:"images",path:"./src/images/"}}},"gatsby-plugin-react-helmet":{message:"Add page meta tags with React Helmet",dependencies:["react-helmet"]},"gatsby-plugin-sitemap":{message:"Add an automatic sitemap"},"gatsby-plugin-offline":{message:"Enable offline functionality"},"gatsby-plugin-manifest":{message:"Generate a manifest file",options:{"gatsby-plugin-manifest":{icon:"src/images/icon.png"}}},"gatsby-transformer-remark":{message:"Add Markdown support (without MDX)",plugins:["gatsby-source-filesystem:pages"],options:{"gatsby-source-filesystem:pages":{name:"pages",path:"./src/pages/"}}},"gatsby-plugin-mdx":{message:"Add Markdown and MDX support",plugins:["gatsby-source-filesystem:pages"],dependencies:["@mdx-js/react","@mdx-js/mdx"],options:{"gatsby-source-filesystem:pages":{name:"pages",path:"./src/pages/"}}}},ze=Ve;function He(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var i=0;i<r.length;i++){var n=r[i].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n)return!0}return!1}(t,r)}function Ve(e,t,r){a.stat(e,function(i,n){r(i,!i&&He(n,e,t))})}Ve.sync=function(e,t){return He(a.statSync(e),e,t)};var Ye,Xe=We;function We(e,t,r){a.stat(e,function(e,i){r(e,!e&&Ke(i,t))})}function Ke(e,t){return e.isFile()&&function(e,t){var r=e.mode,i=e.uid,n=e.gid,s=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),o=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return r&parseInt("001",8)||r&c&&n===o||r&a&&i===s||r&(a|c)&&0===s}(e,t)}We.sync=function(e,t){return Ke(a.statSync(e),t)},Ye="win32"===process.platform||b.TESTING_WINDOWS?ze:Xe;var Je=Ze;function Ze(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(r,i){Ze(e,t||{},function(e,t){e?i(e):r(t)})})}Ye(e,t||{},function(e,i){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,i=!1),r(e,i)})}Ze.sync=function(e,t){try{return Ye.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const Qe="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,et=Qe?";":":",tt=e=>Object.assign(new Error("not found: "+e),{code:"ENOENT"}),rt=(e,t)=>{const r=t.colon||et,i=e.match(/\//)||Qe&&e.match(/\\/)?[""]:[...Qe?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],n=Qe?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Qe?n.split(r):[""];return Qe&&-1!==e.indexOf(".")&&""!==s[0]&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:n}},it=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t||(t={});const{pathEnv:i,pathExt:n,pathExtExe:s}=rt(e,t),a=[],c=r=>new Promise((n,s)=>{if(r===i.length)return t.all&&a.length?n(a):s(tt(e));const c=i[r],u=/^".*"$/.test(c)?c.slice(1,-1):c,h=o.join(u,e),p=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;n(l(p,r,0))}),l=(e,r,i)=>new Promise((o,u)=>{if(i===n.length)return o(c(r+1));const h=n[i];Je(e+h,{pathExt:s},(n,s)=>{if(!n&&s){if(!t.all)return o(e+h);a.push(e+h)}return o(l(e,r,i+1))})});return r?c(0).then(e=>r(null,e),r):c(0)};var nt=it;it.sync=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:i,pathExtExe:n}=rt(e,t),s=[];for(let a=0;a<r.length;a++){const c=r[a],l=/^".*"$/.test(c)?c.slice(1,-1):c,u=o.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let e=0;e<i.length;e++){const r=h+i[e];try{if(Je.sync(r,{pathExt:n})){if(!t.all)return r;s.push(r)}}catch(e){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw tt(e)};const st=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).find(e=>"PATH"===e.toUpperCase())||"Path"};var ot=st;function at(e,t){const r=e.options.env||process.env,i=process.cwd(),n=null!=e.options.cwd,s=n&&void 0!==process.chdir&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=nt.sync(e.command,{path:r[ot({env:r})],pathExt:t?o.delimiter:void 0})}catch(e){}finally{s&&process.chdir(i)}return a&&(a=o.resolve(n?e.options.cwd:"",a)),a}ot.default=st;var ct=function(e){return at(e)||at(e,!0)};const lt=/([()\][%!^"`<>&|;, *?])/g;var ut=/^#!(.*)/;const ht="win32"===process.platform,pt=/\.(?:com|exe)$/i,dt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;var ft=function(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null);const i={command:e,args:t=t?t.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:e,args:t}};return r.shell?i:function(e){if(!ht)return e;const t=function(e){e.file=ct(e);const t=e.file&&function(e){const t=Buffer.alloc(150);let r;try{r=a.openSync(e,"r"),a.readSync(r,t,0,150,0),a.closeSync(r)}catch(e){}return((e="")=>{const t=e.match(ut);if(!t)return null;const[r,i]=t[0].replace(/#! ?/,"").split(" "),n=r.split("/").pop();return"env"===n?i:i?`${n} ${i}`:n})(t.toString())}(e.file);return t?(e.args.unshift(e.file),e.command=t,ct(e)):e.file}(e),r=!pt.test(t);if(e.options.forceShell||r){const r=dt.test(t);e.command=o.normalize(e.command),e.command=e.command.replace(lt,"^$1"),e.args=e.args.map(e=>function(e,t){return e=(e=`"${e=(e=(e=""+e).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(lt,"^$1"),t&&(e=e.replace(lt,"^$1")),e}(e,r));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(i)};const mt="win32"===process.platform;function yt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function gt(e,t){return mt&&1===e&&!t.file?yt(t.original,"spawn"):null}var wt={hookChildProcess:function(e,t){if(!mt)return;const r=e.emit;e.emit=function(i,n){if("exit"===i){const i=gt(n,t);if(i)return r.call(e,"error",i)}return r.apply(e,arguments)}},verifyENOENT:gt,verifyENOENTSync:function(e,t){return mt&&1===e&&!t.file?yt(t.original,"spawnSync"):null},notFoundError:yt};function bt(e,t,r){const i=ft(e,t,r),n=s.spawn(i.command,i.args,i.options);return wt.hookChildProcess(n,i),n}var vt=bt,Et=ft,St=wt;vt.spawn=bt,vt.sync=function(e,t,r){const i=ft(e,t,r),n=s.spawnSync(i.command,i.args,i.options);return n.error=n.error||wt.verifyENOENTSync(n.status,i),n},vt._parse=Et,vt._enoent=St;const Ot=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).find(e=>"PATH"===e.toUpperCase())||"Path"};var xt=Ot;xt.default=Ot;var It=v(function(e){const t=e=>{let t;e=w({cwd:process.cwd(),path:process.env[xt()],execPath:process.execPath},e);let r=o.resolve(e.cwd);const i=[];for(;t!==r;)i.push(o.join(r,"node_modules/.bin")),t=r,r=o.resolve(r,"..");const n=o.resolve(e.cwd,e.execPath,"..");return i.push(n),i.concat(e.path).join(o.delimiter)};e.exports=t,e.exports.default=t,e.exports.env=t=>{t=w({env:process.env},t);const r=w({},t.env),i=xt({env:r});return t.path=r[i],r[i]=e.exports(t),r}});const Tt=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};var Rt=Tt;Rt.default=Tt;const Ct=new WeakMap,At=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,i=0;const n=e.displayName||e.name||"<anonymous>",s=function(...o){if(Ct.set(s,++i),1===i)r=e.apply(this,o),e=null;else if(!0===t.throw)throw new Error(`Function \`${n}\` can only be called once`);return r};return Rt(s,e),Ct.set(s,i),s};var kt=At;kt.default=At,kt.callCount=e=>{if(!Ct.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ct.get(e)};var Pt=v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNALS=void 0,t.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]}),Nt=v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGRTMAX=t.getRealtimeSignals=void 0,t.getRealtimeSignals=function(){return Array.from({length:n-i+1},r)};const r=function(e,t){return{name:"SIGRT"+(t+1),number:i+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},i=34,n=64;t.SIGRTMAX=n}),Lt=v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSignals=void 0,t.getSignals=function(){const e=(0,Nt.getRealtimeSignals)();return[...Pt.SIGNALS,...e].map(r)};const r=function({name:e,number:t,description:r,action:i,forced:n=!1,standard:s}){const{signals:{[e]:o}}=c.constants,a=void 0!==o;return{name:e,number:a?o:t,description:r,supported:a,action:i,forced:n,standard:s}}}),jt=v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.signalsByNumber=t.signalsByName=void 0;const r=(0,Lt.getSignals)().reduce(function(e,{name:t,number:r,description:i,supported:n,action:s,forced:o,standard:a}){return w({},e,{[t]:{name:t,number:r,description:i,supported:n,action:s,forced:o,standard:a}})},{});t.signalsByName=r;const i=function(){const e=(0,Lt.getSignals)(),t=Array.from({length:Nt.SIGRTMAX+1},(t,r)=>function(e,t){const r=function(e,t){const r=t.find(({name:t})=>c.constants.signals[t]===e);return void 0!==r?r:t.find(t=>t.number===e)}(e,t);if(void 0===r)return{};const{name:i,description:n,supported:s,action:o,forced:a,standard:l}=r;return{[e]:{name:i,number:e,description:n,supported:s,action:o,forced:a,standard:l}}}(r,e));return Object.assign({},...t)}();t.signalsByNumber=i});const{signalsByName:_t}=jt;var Dt=({stdout:e,stderr:t,all:r,error:i,signal:n,exitCode:s,command:o,timedOut:a,isCanceled:c,killed:l,parsed:{options:{timeout:u}}})=>{const h=void 0===(n=null===n?void 0:n)?void 0:_t[n].description,p=`Command ${(({timedOut:e,timeout:t,errorCode:r,signal:i,signalDescription:n,exitCode:s,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":void 0!==r?"failed with "+r:void 0!==i?`was killed with ${i} (${n})`:void 0!==s?"failed with exit code "+s:"failed")({timedOut:a,timeout:u,errorCode:i&&i.code,signal:n,signalDescription:h,exitCode:s=null===s?void 0:s,isCanceled:c})}: ${o}`,d="[object Error]"===Object.prototype.toString.call(i),f=d?`${p}\n${i.message}`:p,m=[f,t,e].filter(Boolean).join("\n");return d?(i.originalMessage=i.message,i.message=m):i=new Error(m),i.shortMessage=f,i.command=o,i.exitCode=s,i.signal=n,i.signalDescription=h,i.stdout=e,i.stderr=t,void 0!==r&&(i.all=r),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(a),i.isCanceled=c,i.killed=l&&!a,i};const Mt=["stdin","stdout","stderr"],Bt=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return Mt.map(t=>e[t]);if((e=>Mt.some(t=>void 0!==e[t]))(e))throw new Error("It's not possible to provide `stdio` in combination with one of "+Mt.map(e=>`\`${e}\``).join(", "));if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,Mt.length);return Array.from({length:r},(e,r)=>t[r])};var Ft=Bt;Ft.node=e=>{const t=Bt(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var $t,Gt=v(function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}),Ut=/^win/i.test(process.platform),qt=r;"function"!=typeof qt&&(qt=qt.EventEmitter),process.__signal_exit_emitter__?$t=process.__signal_exit_emitter__:(($t=process.__signal_exit_emitter__=new qt).count=0,$t.emitted={}),$t.infinite||($t.setMaxListeners(Infinity),$t.infinite=!0);var zt=function(e,r){t.equal(typeof e,"function","a callback must be provided for exit handler"),!1===Kt&&Jt();var i="exit";return r&&r.alwaysLast&&(i="afterexit"),$t.on(i,e),function(){$t.removeListener(i,e),0===$t.listeners("exit").length&&0===$t.listeners("afterexit").length&&Vt()}},Ht=Vt;function Vt(){Kt&&(Kt=!1,Gt.forEach(function(e){try{process.removeListener(e,Xt[e])}catch(e){}}),process.emit=er,process.reallyExit=Zt,$t.count-=1)}function Yt(e,t,r){$t.emitted[e]||($t.emitted[e]=!0,$t.emit(e,t,r))}var Xt={};Gt.forEach(function(e){Xt[e]=function(){process.listeners(e).length===$t.count&&(Vt(),Yt("exit",null,e),Yt("afterexit",null,e),Ut&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}});var Wt=Jt,Kt=!1;function Jt(){Kt||(Kt=!0,$t.count+=1,Gt=Gt.filter(function(e){try{return process.on(e,Xt[e]),!0}catch(e){return!1}}),process.emit=tr,process.reallyExit=Qt)}var Zt=process.reallyExit;function Qt(e){process.exitCode=e||0,Yt("exit",process.exitCode,null),Yt("afterexit",process.exitCode,null),Zt.call(process,process.exitCode)}var er=process.emit;function tr(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=er.apply(this,arguments);return Yt("exit",process.exitCode,null),Yt("afterexit",process.exitCode,null),r}return er.apply(this,arguments)}zt.unload=Ht,zt.signals=function(){return Gt},zt.load=Wt;var rr={spawnedKill:(e,t="SIGTERM",r={})=>{const i=e(t);return((e,t,r,i)=>{if(!((e,{forceKillAfterTimeout:t},r)=>(e=>e===c.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase())(e)&&!1!==t&&r)(t,r,i))return;const n=(({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e})(r),s=setTimeout(()=>{e("SIGKILL")},n);s.unref&&s.unref()})(e,t,r,i),i},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:r="SIGTERM"},i)=>{if(0===t||void 0===t)return i;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let n;const s=new Promise((i,s)=>{n=setTimeout(()=>{((e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,r,s)},t)}),o=i.finally(()=>{clearTimeout(n)});return Promise.race([s,o])},setExitHandler:async(e,{cleanup:t,detached:r},i)=>{if(!t||r)return i;const n=zt(()=>{e.kill()});return i.finally(()=>{n()})}};const ir=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;ir.writable=e=>ir(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,ir.readable=e=>ir(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,ir.duplex=e=>ir.writable(e)&&ir.readable(e),ir.transform=e=>ir.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var nr=ir,sr=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){i[e]=t[e]}),i;function i(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),n=e[e.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach(function(e){i[e]=n[e]}),i}},or=sr(cr),ar=sr(lr);function cr(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function lr(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)};return t.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",t.called=!1,t}cr.proto=cr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return cr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return lr(this)},configurable:!0})}),or.strict=ar;var ur=function(){},hr=function(e,t,r){if("function"==typeof t)return hr(e,null,t);t||(t={}),r=or(r||ur);var i=e._writableState,n=e._readableState,s=t.readable||!1!==t.readable&&e.readable,o=t.writable||!1!==t.writable&&e.writable,a=!1,c=function(){e.writable||l()},l=function(){o=!1,s||r.call(e)},u=function(){s=!1,o||r.call(e)},h=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},p=function(t){r.call(e,t)},d=function(){process.nextTick(f)},f=function(){if(!a)return(!s||n&&n.ended&&!n.destroyed)&&(!o||i&&i.ended&&!i.destroyed)?void 0:r.call(e,new Error("premature close"))},m=function(){e.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",l),e.on("abort",d),e.req?m():e.on("request",m)):o&&!i&&(e.on("end",c),e.on("close",c)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",h),e.on("end",u),e.on("finish",l),!1!==t.error&&e.on("error",p),e.on("close",d),function(){a=!0,e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("exit",h),e.removeListener("end",u),e.removeListener("error",p),e.removeListener("close",d)}},pr=hr,dr=function(){},fr=/^v?\.0/.test(process.version),mr=function(e){return"function"==typeof e},yr=function(e,t,r,i){i=or(i);var n=!1;e.on("close",function(){n=!0}),pr(e,{readable:t,writable:r},function(e){if(e)return i(e);n=!0,i()});var s=!1;return function(t){if(!n&&!s)return s=!0,function(e){return!!fr&&!!a&&(e instanceof(a.ReadStream||dr)||e instanceof(a.WriteStream||dr))&&mr(e.close)}(e)?e.close(dr):function(e){return e.setHeader&&mr(e.abort)}(e)?e.abort():mr(e.destroy)?e.destroy():void i(t||new Error("stream was destroyed"))}},gr=function(e){e()},wr=function(e,t){return e.pipe(t)};const{PassThrough:br}=l;class vr extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Er(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let i;return await new Promise((n,s)=>{const o=e=>{e&&(e.bufferedData=i.getBufferedValue()),s(e)};i=function(){var e,t=Array.prototype.slice.call(arguments),r=mr(t[t.length-1]||dr)&&t.pop()||dr;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var i=t.map(function(n,s){var o=s<t.length-1;return yr(n,o,s>0,function(t){e||(e=t),t&&i.forEach(gr),o||(i.forEach(gr),r(e))})});return t.reduce(wr)}(e,(e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const i="buffer"===r;let n=!1;t?n=!(r||i):r=r||"utf8",i&&(r=null);const s=new br({objectMode:n});r&&s.setEncoding(r);let o=0;const a=[];return s.on("data",e=>{a.push(e),n?o=a.length:o+=e.length}),s.getBufferedValue=()=>t?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s})(t),e=>{e?o(e):n()}),i.on("data",()=>{i.getBufferedLength()>r&&o(new vr)})}),i.getBufferedValue()}var Sr=Er,Or=vr;Sr.default=Er,Sr.buffer=(e,t)=>Er(e,{...t,encoding:"buffer"}),Sr.array=(e,t)=>Er(e,{...t,array:!0}),Sr.MaxBufferError=Or;const{PassThrough:xr}=l,Ir=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},Tr=(e,{encoding:t,buffer:r,maxBuffer:i})=>{if(e&&r)return t?Sr(e,{encoding:t,maxBuffer:i}):Sr.buffer(e,{maxBuffer:i})};var Rr={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(nr(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=function(){var e=[],t=new xr({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=i,t.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(r),t;function r(i){return Array.isArray(i)?(i.forEach(r),this):(e.push(i),i.once("end",n.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function i(){return 0==e.length}function n(r){!(e=e.filter(function(e){return e!==r})).length&&t.readable&&t.end()}}();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},getSpawnedResult:async({stdout:e,stderr:t,all:r},{encoding:i,buffer:n,maxBuffer:s},o)=>{const a=Tr(e,{encoding:i,buffer:n,maxBuffer:s}),c=Tr(t,{encoding:i,buffer:n,maxBuffer:s}),l=Tr(r,{encoding:i,buffer:n,maxBuffer:2*s});try{return await Promise.all([o,a,c,l])}catch(i){return Promise.all([{error:i,signal:i.signal,timedOut:i.timedOut},Ir(e,a),Ir(t,c),Ir(r,l)])}},validateInputSync:({input:e})=>{if(nr(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const Cr=(async()=>{})().constructor.prototype,Ar=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Cr,e)]);var kr={mergePromise:(e,t)=>{for(const[r,i]of Ar){const n="function"==typeof t?(...e)=>Reflect.apply(i.value,t(),e):i.value.bind(t);Reflect.defineProperty(e,r,{...i,value:n})}return e},getSpawnedPromise:e=>new Promise((t,r)=>{e.on("exit",(e,r)=>{t({exitCode:e,signal:r})}),e.on("error",e=>{r(e)}),e.stdin&&e.stdin.on("error",e=>{r(e)})})};const Pr=/ +/g;var Nr={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>{const t=[];for(const r of e.trim().split(Pr)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${r}`:t.push(r)}return t}};const{spawnedKill:Lr,spawnedCancel:jr,setupTimeout:_r,setExitHandler:Dr}=rr,{handleInput:Mr,getSpawnedResult:Br,makeAllStream:Fr,validateInputSync:$r}=Rr,{mergePromise:Gr,getSpawnedPromise:Ur}=kr,{joinCommand:qr,parseCommand:zr}=Nr,Hr=(e,t,r={})=>{const i=vt._parse(e,t,r);return e=i.command,t=i.args,(r={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(r=i.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r}).env=(({env:e,extendEnv:t,preferLocal:r,localDir:i,execPath:n})=>{const s=t?{...process.env,...e}:e;return r?It.env({env:s,cwd:i,execPath:n}):s})(r),r.stdio=Ft(r),"win32"===process.platform&&"cmd"===o.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:r,parsed:i}},Vr=(e,t,r)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?(e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e})(t):t:void 0===r?void 0:"",Yr=(e,t,r)=>{const i=Hr(e,t,r),n=qr(e,t);let o;try{o=s.spawn(i.file,i.args,i.options)}catch(e){const t=new s.ChildProcess,r=Promise.reject(Dt({error:e,stdout:"",stderr:"",all:"",command:n,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return Gr(t,r)}const a=Ur(o),c=_r(o,i.options,a),l=Dr(o,i.options,c),u={isCanceled:!1};o.kill=Lr.bind(null,o.kill.bind(o)),o.cancel=jr.bind(null,o,u);const h=kt(async()=>{const[{error:e,exitCode:t,signal:r,timedOut:s},a,c,h]=await Br(o,i.options,l),p=Vr(i.options,a),d=Vr(i.options,c),f=Vr(i.options,h);if(e||0!==t||null!==r){const a=Dt({error:e,exitCode:t,signal:r,stdout:p,stderr:d,all:f,command:n,parsed:i,timedOut:s,isCanceled:u.isCanceled,killed:o.killed});if(!i.options.reject)return a;throw a}return{command:n,exitCode:0,stdout:p,stderr:d,all:f,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return vt._enoent.hookChildProcess(o,i.parsed),Mr(o,i.options.input),o.all=Fr(o,i.options),Gr(o,h)};var Xr=Yr;Xr.sync=(e,t,r)=>{const i=Hr(e,t,r),n=qr(e,t);let o;$r(i.options);try{o=s.spawnSync(i.file,i.args,i.options)}catch(e){throw Dt({error:e,stdout:"",stderr:"",all:"",command:n,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}const a=Vr(i.options,o.stdout,o.error),c=Vr(i.options,o.stderr,o.error);if(o.error||0!==o.status||null!==o.signal){const e=Dt({stdout:a,stderr:c,error:o.error,signal:o.signal,exitCode:o.status,command:n,parsed:i,timedOut:o.error&&"ETIMEDOUT"===o.error.code,isCanceled:!1,killed:null!==o.signal});if(!i.options.reject)return e;throw e}return{command:n,exitCode:0,stdout:a,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},Xr.command=(e,t)=>{const[r,...i]=zr(e);return Yr(r,i,t)},Xr.commandSync=(e,t)=>{const[r,...i]=zr(e);return Yr.sync(r,i,t)},Xr.node=(e,t,r={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=[]);const i=Ft.node(r),n=process.execArgv.filter(e=>!e.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:o=n}=r;return Yr(s,[...o,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})};var Wr=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((r,i)=>{e.call(this,...t,(e,t)=>null!=e?i(e):r(t))});e.apply(this,t)},"name",{value:e.name})},Kr=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>r(null,e),r)},"name",{value:e.name})},Jr=process.cwd,Zr=null,Qr=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Zr||(Zr=Jr.call(process)),Zr};try{process.cwd()}catch(e){}var ei=process.chdir;process.chdir=function(e){Zr=null,ei.call(process,e)};var ti=l.Stream,ri=v(function(e){var r,i;function n(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var s=function(){};function o(e){(function(e){var t,r;function i(t){return t?function(r,i,n){return t.call(e,r,i,function(e){l(e)&&(e=null),n&&n.apply(this,arguments)})}:t}function n(t){return t?function(r,i){try{return t.call(e,r,i)}catch(e){if(!l(e))throw e}}:t}function s(t){return t?function(r,i,n,s){return t.call(e,r,i,n,function(e){l(e)&&(e=null),s&&s.apply(this,arguments)})}:t}function o(t){return t?function(r,i,n){try{return t.call(e,r,i,n)}catch(e){if(!l(e))throw e}}:t}function a(t){return t?function(r,i,n){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),n&&n.apply(this,arguments)}return"function"==typeof i&&(n=i,i=null),i?t.call(e,r,i,s):t.call(e,r,s)}:t}function c(t){return t?function(r,i){var n=i?t.call(e,r,i):t.call(e,r);return n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296),n}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}u.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,i){e.open(t,u.O_WRONLY|u.O_SYMLINK,r,function(t,n){t?i&&i(t):e.fchmod(n,r,function(t){e.close(n,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,r){var i,n=e.openSync(t,u.O_WRONLY|u.O_SYMLINK,r),s=!0;try{i=e.fchmodSync(n,r),s=!1}finally{if(s)try{e.closeSync(n)}catch(e){}else e.closeSync(n)}return i}}(e),e.lutimes||function(e){u.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,r,i,n){e.open(t,u.O_SYMLINK,function(t,s){t?n&&n(t):e.futimes(s,r,i,function(t){e.close(s,function(e){n&&n(t||e)})})})},e.lutimesSync=function(t,r,i){var n,s=e.openSync(t,u.O_SYMLINK),o=!0;try{n=e.futimesSync(s,r,i),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return n}):(e.lutimes=function(e,t,r,i){i&&process.nextTick(i)},e.lutimesSync=function(){})}(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,r,i){i&&process.nextTick(i)},e.lchownSync=function(){}),"win32"===Qr&&(e.rename=(t=e.rename,function(r,i,n){var s=Date.now(),o=0;t(r,i,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-s<6e4)return setTimeout(function(){e.stat(i,function(e,s){e&&"ENOENT"===e.code?t(r,i,a):n(c)})},o),void(o<100&&(o+=10));n&&n(c)})})),e.read=function(t){function r(r,i,n,s,o,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,h,p){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,i,n,s,o,c);a.apply(this,arguments)}}return t.call(e,r,i,n,s,o,c)}return r.__proto__=t,r}(e.read),e.readSync=(r=e.readSync,function(t,i,n,s,o){for(var a=0;;)try{return r.call(e,t,i,n,s,o)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})})(e),e.gracefulify=o,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,i){return"function"==typeof r&&(i=r,r=null),function e(r,i,n){return t(r,i,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),l()):c([e,[r,i,n]])})}(e,r,i)};var r=e.writeFile;e.writeFile=function(e,t,i,n){return"function"==typeof i&&(n=i,i=null),function e(t,i,n,s){return r(t,i,n,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof s&&s.apply(this,arguments),l()):c([e,[t,i,n,s]])})}(e,t,i,n)};var i=e.appendFile;i&&(e.appendFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,s){return i(t,r,n,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof s&&s.apply(this,arguments),l()):c([e,[t,r,n,s]])})}(e,t,r,n)});var n=e.readdir;function s(t){return n.apply(e,t)}if(e.readdir=function(e,t,r){var i=[e];return"function"!=typeof t?i.push(t):r=t,i.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof r&&r.apply(this,arguments),l()):c([s,[i]])}),s(i)},"v0.8"===process.version.substr(0,4)){var a=function(e){return{ReadStream:function t(r,i){if(!(this instanceof t))return new t(r,i);ti.call(this);var n=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=Infinity;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return n.emit("error",e),void(n.readable=!1);n.fd=t,n.emit("open",t),n._read()}):process.nextTick(function(){n._read()})},WriteStream:function t(r,i){if(!(this instanceof t))return new t(r,i);ti.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var n=Object.keys(i),s=0,o=n.length;s<o;s++){var a=n[s];this[a]=i[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}(e);m=a.ReadStream,y=a.WriteStream}var h=e.ReadStream;h&&(m.prototype=Object.create(h.prototype),m.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())})});var p=e.WriteStream;p&&(y.prototype=Object.create(p.prototype),y.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))})}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var d=m;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var f=y;function m(e,t){return this instanceof m?(h.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function y(e,t){return this instanceof y?(p.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0});var g=e.open;function w(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,n){return g(t,r,i,function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?("function"==typeof n&&n.apply(this,arguments),l()):c([e,[t,r,i,n]])})}(e,t,r,i)}return e.open=w,e}function c(e){s("ENQUEUE",e[0].name,e[1]),a[r].push(e)}function l(){var e=a[r].shift();e&&(s("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}h.debuglog?s=h.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(s=function(){var e=h.format.apply(h,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),a[r]||(n(a,b[r]||[]),a.close=function(e){function t(t,r){return e.call(a,t,function(e){e||l(),"function"==typeof r&&r.apply(this,arguments)})}return Object.defineProperty(t,i,{value:e}),t}(a.close),a.closeSync=function(e){function t(t){e.apply(a,arguments),l()}return Object.defineProperty(t,i,{value:e}),t}(a.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){s(a[r]),t.equal(a[r].length,0)})),b[r]||n(b,a[r]),e.exports=o(function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}(a)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!a.__patched&&(e.exports=o(a),a.__patched=!0)}),ii=v(function(e,t){const r=Wr,i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof ri[e]);Object.keys(ri).forEach(e=>{"promises"!==e&&(t[e]=ri[e])}),i.forEach(e=>{t[e]=r(ri[e])}),t.exists=function(e,t){return"function"==typeof t?ri.exists(e,t):new Promise(t=>ri.exists(e,t))},t.read=function(e,t,r,i,n,s){return"function"==typeof s?ri.read(e,t,r,i,n,s):new Promise((s,o)=>{ri.read(e,t,r,i,n,(e,t,r)=>{if(e)return o(e);s({bytesRead:t,buffer:r})})})},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?ri.write(e,t,...r):new Promise((i,n)=>{ri.write(e,t,...r,(e,t,r)=>{if(e)return n(e);i({bytesWritten:t,buffer:r})})})},"function"==typeof ri.writev&&(t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?ri.writev(e,t,...r):new Promise((i,n)=>{ri.writev(e,t,...r,(e,t,r)=>{if(e)return n(e);i({bytesWritten:t,buffers:r})})})}),"function"==typeof ri.realpath.native&&(t.realpath.native=r(ri.realpath.native))}),ni=e=>{const t=process.versions.node.split(".").map(e=>parseInt(e,10));return e=e.split(".").map(e=>parseInt(e,10)),t[0]>e[0]||t[0]===e[0]&&(t[1]>e[1]||t[1]===e[1]&&t[2]>=e[2])};const si=ni("10.12.0"),oi=e=>{if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(o.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}},ai=e=>("number"==typeof e&&(e={mode:e}),{mode:511,...e}),ci=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};var li={makeDir:async(e,t)=>{if(oi(e),t=ai(t),si){const r=o.resolve(e);return ii.mkdir(r,{mode:t.mode,recursive:!0})}const r=async e=>{try{await ii.mkdir(e,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(o.dirname(e)===e)throw ci(e);if(t.message.includes("null bytes"))throw t;return await r(o.dirname(e)),r(e)}try{if(!(await ii.stat(e)).isDirectory())throw new Error("The path is not a directory")}catch{throw t}}};return r(o.resolve(e))},makeDirSync:(e,t)=>{if(oi(e),t=ai(t),si){const r=o.resolve(e);return ii.mkdirSync(r,{mode:t.mode,recursive:!0})}const r=e=>{try{ii.mkdirSync(e,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(o.dirname(e)===e)throw ci(e);if(t.message.includes("null bytes"))throw t;return r(o.dirname(e)),r(e)}try{if(!ii.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch{throw t}}};return r(o.resolve(e))}};const ui=Kr,{makeDir:hi,makeDirSync:pi}=li,di=ui(hi);var fi={mkdirs:di,mkdirsSync:pi,mkdirp:di,mkdirpSync:pi,ensureDir:di,ensureDirSync:pi};const mi=ni("10.5.0"),yi=e=>mi?ii.stat(e,{bigint:!0}):ii.stat(e),gi=e=>mi?ii.statSync(e,{bigint:!0}):ii.statSync(e);function wi(e,t){return Promise.all([yi(e),yi(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}function bi(e,t){if(t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev){if(mi||t.ino<Number.MAX_SAFE_INTEGER)return!0;if(t.size===e.size&&t.mode===e.mode&&t.nlink===e.nlink&&t.atimeMs===e.atimeMs&&t.mtimeMs===e.mtimeMs&&t.ctimeMs===e.ctimeMs&&t.birthtimeMs===e.birthtimeMs)return!0}return!1}function vi(e,t){const r=o.resolve(e).split(o.sep).filter(e=>e),i=o.resolve(t).split(o.sep).filter(e=>e);return r.reduce((e,t,r)=>e&&i[r]===t,!0)}function Ei(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var Si={checkPaths:function(e,t,r,i){h.callbackify(wi)(e,t,(n,s)=>{if(n)return i(n);const{srcStat:o,destStat:a}=s;return a&&bi(o,a)?i(new Error("Source and destination must not be the same.")):o.isDirectory()&&vi(e,t)?i(new Error(Ei(e,t,r))):i(null,{srcStat:o,destStat:a})})},checkPathsSync:function(e,t,r){const{srcStat:i,destStat:n}=function(e,t){let r;const i=gi(e);try{r=gi(t)}catch(e){if("ENOENT"===e.code)return{srcStat:i,destStat:null};throw e}return{srcStat:i,destStat:r}}(e,t);if(n&&bi(i,n))throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&vi(e,t))throw new Error(Ei(e,t,r));return{srcStat:i,destStat:n}},checkParentPaths:function e(t,r,i,n,s){const a=o.resolve(o.dirname(t)),c=o.resolve(o.dirname(i));if(c===a||c===o.parse(c).root)return s();const l=(o,a)=>o?"ENOENT"===o.code?s():s(o):bi(r,a)?s(new Error(Ei(t,i,n))):e(t,r,c,n,s);mi?ii.stat(c,{bigint:!0},l):ii.stat(c,l)},checkParentPathsSync:function e(t,r,i,n){const s=o.resolve(o.dirname(t)),a=o.resolve(o.dirname(i));if(a===s||a===o.parse(a).root)return;let c;try{c=gi(a)}catch(e){if("ENOENT"===e.code)return;throw e}if(bi(r,c))throw new Error(Ei(t,i,n));return e(t,r,a,n)},isSrcSubdir:vi};const Oi=fi.mkdirsSync;function xi(e,t,r,i){if(!i.filter||i.filter(t,r))return function(e,t,r,i){const n=(i.dereference?ri.statSync:ri.lstatSync)(t);return n.isDirectory()?function(e,t,r,i,n){if(!t)return function(e,t,r,i){return ri.mkdirSync(r),Ri(t,r,i),Ti(r,e)}(e.mode,r,i,n);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${r}'.`);return Ri(r,i,n)}(n,e,t,r,i):n.isFile()||n.isCharacterDevice()||n.isBlockDevice()?function(e,t,r,i,n){return t?function(e,t,r,i){if(i.overwrite)return ri.unlinkSync(r),Ii(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,i,n):Ii(e,r,i,n)}(n,e,t,r,i):n.isSymbolicLink()?function(e,t,r,i){let n=ri.readlinkSync(t);if(i.dereference&&(n=o.resolve(process.cwd(),n)),e){let e;try{e=ri.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return ri.symlinkSync(n,r);throw e}if(i.dereference&&(e=o.resolve(process.cwd(),e)),Si.isSrcSubdir(n,e))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${e}'.`);if(ri.statSync(r).isDirectory()&&Si.isSrcSubdir(e,n))throw new Error(`Cannot overwrite '${e}' with '${n}'.`);return function(e,t){return ri.unlinkSync(t),ri.symlinkSync(e,t)}(n,r)}return ri.symlinkSync(n,r)}(e,t,r,i):void 0}(e,t,r,i)}function Ii(e,t,r,i){return ri.copyFileSync(t,r),i.preserveTimestamps&&function(e,t,r){(function(e){return 0==(128&e)})(e)&&function(e,t){Ti(e,128|t)}(r,e),function(e,t){const r=ri.statSync(e);!function(e,t,r){const i=ri.openSync(e,"r+");ri.futimesSync(i,t,r),ri.closeSync(i)}(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),Ti(r,e.mode)}function Ti(e,t){return ri.chmodSync(e,t)}function Ri(e,t,r){ri.readdirSync(e).forEach(i=>function(e,t,r,i){const n=o.join(t,e),s=o.join(r,e),{destStat:a}=Si.checkPathsSync(n,s,"copy");return xi(a,n,s,i)}(i,e,t,r))}var Ci={copySync:function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:i,destStat:n}=Si.checkPathsSync(e,t,"copy");return Si.checkParentPathsSync(e,i,t,"copy"),function(e,t,r,i){if(i.filter&&!i.filter(t,r))return;const n=o.dirname(r);return ri.existsSync(n)||Oi(n),xi(e,t,r,i)}(n,e,t,r)}},Ai={pathExists:Kr(function(e){return ii.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:ii.existsSync};const ki=fi.mkdirs,Pi=Ai.pathExists;function Ni(e,t,r,i,n){const s=o.dirname(r);Pi(s,(o,a)=>o?n(o):a?ji(e,t,r,i,n):void ki(s,s=>s?n(s):ji(e,t,r,i,n)))}function Li(e,t,r,i,n,s){Promise.resolve(n.filter(r,i)).then(o=>o?e(t,r,i,n,s):s(),e=>s(e))}function ji(e,t,r,i,n){return i.filter?Li(_i,e,t,r,i,n):_i(e,t,r,i,n)}function _i(e,t,r,i,n){(i.dereference?ri.stat:ri.lstat)(t,(s,a)=>s?n(s):a.isDirectory()?function(e,t,r,i,n,s){return t?t&&!t.isDirectory()?s(new Error(`Cannot overwrite non-directory '${i}' with directory '${r}'.`)):Fi(r,i,n,s):function(e,t,r,i,n){ri.mkdir(r,s=>{if(s)return n(s);Fi(t,r,i,t=>t?n(t):Bi(r,e,n))})}(e.mode,r,i,n,s)}(a,e,t,r,i,n):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,r,i,n,s){return t?function(e,t,r,i,n){if(!i.overwrite)return i.errorOnExist?n(new Error(`'${r}' already exists`)):n();ri.unlink(r,s=>s?n(s):Di(e,t,r,i,n))}(e,r,i,n,s):Di(e,r,i,n,s)}(a,e,t,r,i,n):a.isSymbolicLink()?function(e,t,r,i,n){ri.readlink(t,(t,s)=>t?n(t):(i.dereference&&(s=o.resolve(process.cwd(),s)),e?void ri.readlink(r,(t,a)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?ri.symlink(s,r,n):n(t):(i.dereference&&(a=o.resolve(process.cwd(),a)),Si.isSrcSubdir(s,a)?n(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`)):e.isDirectory()&&Si.isSrcSubdir(a,s)?n(new Error(`Cannot overwrite '${a}' with '${s}'.`)):function(e,t,r){ri.unlink(t,i=>i?r(i):ri.symlink(e,t,r))}(s,r,n))):ri.symlink(s,r,n)))}(e,t,r,i,n):void 0)}function Di(e,t,r,i,n){ri.copyFile(t,r,s=>s?n(s):i.preserveTimestamps?function(e,t,r,i){return function(e){return 0==(128&e)}(e)?function(e,t,r){return Bi(e,128|t,r)}(r,e,n=>n?i(n):Mi(e,t,r,i)):Mi(e,t,r,i)}(e.mode,t,r,n):Bi(r,e.mode,n))}function Mi(e,t,r,i){!function(e,t,r){ri.stat(e,(e,i)=>e?r(e):function(e,t,r,i){ri.open(e,"r+",(e,n)=>{if(e)return i(e);ri.futimes(n,t,r,e=>{ri.close(n,t=>{i&&i(e||t)})})})}(t,i.atime,i.mtime,r))}(t,r,t=>t?i(t):Bi(r,e,i))}function Bi(e,t,r){return ri.chmod(e,t,r)}function Fi(e,t,r,i){ri.readdir(e,(n,s)=>n?i(n):function e(t,r,i,n,s){const a=t.pop();return a?function(t,r,i,n,s,a){const c=o.join(i,r),l=o.join(n,r);Si.checkPaths(c,l,"copy",(r,o)=>{if(r)return a(r);const{destStat:u}=o;ji(u,c,l,s,r=>r?a(r):e(t,i,n,s,a))})}(t,a,r,i,n,s):s()}(s,e,t,r,i))}var $i={copy:Wr(function(e,t,r,i){"function"!=typeof r||i?"function"==typeof r&&(r={filter:r}):(i=r,r={}),i=i||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),Si.checkPaths(e,t,"copy",(n,s)=>{if(n)return i(n);const{srcStat:o,destStat:a}=s;Si.checkParentPaths(e,o,t,"copy",n=>n?i(n):r.filter?Li(Ni,a,e,t,r,i):Ni(a,e,t,r,i))})})};const Gi="win32"===process.platform;function Ui(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||ri[t],e[t+="Sync"]=e[t]||ri[t]}),e.maxBusyTries=e.maxBusyTries||3}function qi(e,r,i){let n=0;"function"==typeof r&&(i=r,r={}),t(e,"rimraf: missing path"),t.strictEqual(typeof e,"string","rimraf: path should be a string"),t.strictEqual(typeof i,"function","rimraf: callback function required"),t(r,"rimraf: invalid options argument provided"),t.strictEqual(typeof r,"object","rimraf: options should be object"),Ui(r),zi(e,r,function t(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&n<r.maxBusyTries)return n++,setTimeout(()=>zi(e,r,t),100*n);"ENOENT"===s.code&&(s=null)}i(s)})}function zi(e,r,i){t(e),t(r),t("function"==typeof i),r.lstat(e,(t,n)=>t&&"ENOENT"===t.code?i(null):t&&"EPERM"===t.code&&Gi?Hi(e,r,t,i):n&&n.isDirectory()?Yi(e,r,t,i):void r.unlink(e,t=>{if(t){if("ENOENT"===t.code)return i(null);if("EPERM"===t.code)return Gi?Hi(e,r,t,i):Yi(e,r,t,i);if("EISDIR"===t.code)return Yi(e,r,t,i)}return i(t)}))}function Hi(e,r,i,n){t(e),t(r),t("function"==typeof n),r.chmod(e,438,t=>{t?n("ENOENT"===t.code?null:i):r.stat(e,(t,s)=>{t?n("ENOENT"===t.code?null:i):s.isDirectory()?Yi(e,r,i,n):r.unlink(e,n)})})}function Vi(e,r,i){let n;t(e),t(r);try{r.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw i}try{n=r.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw i}n.isDirectory()?Wi(e,r,i):r.unlinkSync(e)}function Yi(e,r,i,n){t(e),t(r),t("function"==typeof n),r.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?n(s&&"ENOTDIR"===s.code?i:s):function(e,r,i){t(e),t(r),t("function"==typeof i),r.readdir(e,(t,n)=>{if(t)return i(t);let s,a=n.length;if(0===a)return r.rmdir(e,i);n.forEach(t=>{qi(o.join(e,t),r,t=>{if(!s)return t?i(s=t):void(0==--a&&r.rmdir(e,i))})})})}(e,r,n)})}function Xi(e,r){let i;Ui(r=r||{}),t(e,"rimraf: missing path"),t.strictEqual(typeof e,"string","rimraf: path should be a string"),t(r,"rimraf: missing options"),t.strictEqual(typeof r,"object","rimraf: options should be object");try{i=r.lstatSync(e)}catch(t){if("ENOENT"===t.code)return;"EPERM"===t.code&&Gi&&Vi(e,r,t)}try{i&&i.isDirectory()?Wi(e,r,null):r.unlinkSync(e)}catch(t){if("ENOENT"===t.code)return;if("EPERM"===t.code)return Gi?Vi(e,r,t):Wi(e,r,t);if("EISDIR"!==t.code)throw t;Wi(e,r,t)}}function Wi(e,r,i){t(e),t(r);try{r.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw i;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,r){if(t(e),t(r),r.readdirSync(e).forEach(t=>Xi(o.join(e,t),r)),!Gi)return r.rmdirSync(e,r);{const t=Date.now();do{try{return r.rmdirSync(e,r)}catch{}}while(Date.now()-t<500)}}(e,r);else if("ENOENT"!==n.code)throw n}}var Ki=qi;qi.sync=Xi;var Ji={remove:Wr(Ki),removeSync:Ki.sync};const Zi=Wr(function(e,t){t=t||function(){},ri.readdir(e,(r,i)=>{if(r)return fi.mkdirs(e,t);i=i.map(t=>o.join(e,t)),function e(){const r=i.pop();if(!r)return t();Ji.remove(r,r=>{if(r)return t(r);e()})}()})});function Qi(e){let t;try{t=ri.readdirSync(e)}catch{return fi.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),Ji.removeSync(t)})}var en={emptyDirSync:Qi,emptydirSync:Qi,emptyDir:Zi,emptydir:Zi},tn={createFile:Wr(function(e,t){function r(){ri.writeFile(e,"",e=>{if(e)return t(e);t()})}ri.stat(e,(i,n)=>{if(!i&&n.isFile())return t();const s=o.dirname(e);ri.stat(s,(e,i)=>{if(e)return"ENOENT"===e.code?fi.mkdirs(s,e=>{if(e)return t(e);r()}):t(e);i.isDirectory()?r():ri.readdir(s,e=>{if(e)return t(e)})})})}),createFileSync:function(e){let t;try{t=ri.statSync(e)}catch{}if(t&&t.isFile())return;const r=o.dirname(e);try{ri.statSync(r).isDirectory()||ri.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;fi.mkdirsSync(r)}ri.writeFileSync(e,"")}};const rn=Ai.pathExists;var nn={createLink:Wr(function(e,t,r){function i(e,t){ri.link(e,t,e=>{if(e)return r(e);r(null)})}rn(t,(n,s)=>n?r(n):s?r(null):void ri.lstat(e,n=>{if(n)return n.message=n.message.replace("lstat","ensureLink"),r(n);const s=o.dirname(t);rn(s,(n,o)=>n?r(n):o?i(e,t):void fi.mkdirs(s,n=>{if(n)return r(n);i(e,t)}))}))}),createLinkSync:function(e,t){if(ri.existsSync(t))return;try{ri.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=o.dirname(t);return ri.existsSync(r)||fi.mkdirsSync(r),ri.linkSync(e,t)}};const sn=Ai.pathExists,on=fi.mkdirs,an=fi.mkdirsSync,cn=Ai.pathExists;var ln={createSymlink:Wr(function(e,t,r,i){i="function"==typeof r?r:i,r="function"!=typeof r&&r,cn(t,(n,s)=>n?i(n):s?i(null):void function(e,t,r){if(o.isAbsolute(e))return ri.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e}));{const i=o.dirname(t),n=o.join(i,e);sn(n,(t,s)=>t?r(t):s?r(null,{toCwd:n,toDst:e}):ri.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:o.relative(i,e)})))}}(e,t,(n,s)=>{if(n)return i(n);e=s.toDst,function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);ri.lstat(e,(e,i)=>{if(e)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}(s.toCwd,r,(r,n)=>{if(r)return i(r);const s=o.dirname(t);cn(s,(r,o)=>r?i(r):o?ri.symlink(e,t,n,i):void on(s,r=>{if(r)return i(r);ri.symlink(e,t,n,i)}))})}))}),createSymlinkSync:function(e,t,r){if(ri.existsSync(t))return;const i=function(e,t){let r;if(o.isAbsolute(e)){if(r=ri.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const i=o.dirname(t),n=o.join(i,e);if(r=ri.existsSync(n),r)return{toCwd:n,toDst:e};if(r=ri.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:o.relative(i,e)}}}(e,t);e=i.toDst,r=function(e,t){let r;if(t)return t;try{r=ri.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}(i.toCwd,r);const n=o.dirname(t);return ri.existsSync(n)||an(n),ri.symlinkSync(e,t,r)}},un={createFile:tn.createFile,createFileSync:tn.createFileSync,ensureFile:tn.createFile,ensureFileSync:tn.createFileSync,createLink:nn.createLink,createLinkSync:nn.createLinkSync,ensureLink:nn.createLink,ensureLinkSync:nn.createLinkSync,createSymlink:ln.createSymlink,createSymlinkSync:ln.createSymlinkSync,ensureSymlink:ln.createSymlink,ensureSymlinkSync:ln.createSymlinkSync},hn=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((r,i)=>{e.apply(this,t.concat([(e,t)=>e?i(e):r(t)]))});e.apply(this,t)},"name",{value:e.name})},pn=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>r(null,e),r)},"name",{value:e.name})},dn={stringify:function(e,t={}){const r=t.EOL||"\n";return JSON.stringify(e,t?t.replacer:null,t.spaces).replace(/\n/g,r)+r},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}};let fn;try{fn=ri}catch(e){fn=a}const{stringify:mn,stripBom:yn}=dn,gn={readFile:pn(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||fn,i=!("throws"in t)||t.throws;let n,s=await hn(r.readFile)(e,t);s=yn(s);try{n=JSON.parse(s,t?t.reviver:null)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}return n}),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||fn,i=!("throws"in t)||t.throws;try{let i=r.readFileSync(e,t);return i=yn(i),JSON.parse(i,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:pn(async function(e,t,r={}){const i=r.fs||fn,n=mn(t,r);await hn(i.writeFile)(e,n,r)}),writeFileSync:function(e,t,r={}){const i=r.fs||fn,n=mn(t,r);return i.writeFileSync(e,n,r)}};var wn={readJson:gn.readFile,readJsonSync:gn.readFileSync,writeJson:gn.writeFile,writeJsonSync:gn.writeFileSync};const bn=Ai.pathExists;var vn={outputFile:Wr(function(e,t,r,i){"function"==typeof r&&(i=r,r="utf8");const n=o.dirname(e);bn(n,(s,o)=>s?i(s):o?ri.writeFile(e,t,r,i):void fi.mkdirs(n,n=>{if(n)return i(n);ri.writeFile(e,t,r,i)}))}),outputFileSync:function(e,...t){const r=o.dirname(e);if(ri.existsSync(r))return ri.writeFileSync(e,...t);fi.mkdirsSync(r),ri.writeFileSync(e,...t)}};const{stringify:En}=dn,{outputFile:Sn}=vn,{stringify:On}=dn,{outputFileSync:xn}=vn;wn.outputJson=Kr(async function(e,t,r={}){const i=En(t,r);await Sn(e,i,r)}),wn.outputJsonSync=function(e,t,r){const i=On(t,r);xn(e,i,r)},wn.outputJSON=wn.outputJson,wn.outputJSONSync=wn.outputJsonSync,wn.writeJSON=wn.writeJson,wn.writeJSONSync=wn.writeJsonSync,wn.readJSON=wn.readJson,wn.readJSONSync=wn.readJsonSync;var In=wn;const Tn=Ci.copySync,Rn=Ji.removeSync,Cn=fi.mkdirpSync;function An(e,t,r){try{ri.renameSync(e,t)}catch(i){if("EXDEV"!==i.code)throw i;return function(e,t,r){return Tn(e,t,{overwrite:r,errorOnExist:!0}),Rn(e)}(e,t,r)}}var kn={moveSync:function(e,t,r){const i=(r=r||{}).overwrite||r.clobber||!1,{srcStat:n}=Si.checkPathsSync(e,t,"move");return Si.checkParentPathsSync(e,n,t,"move"),Cn(o.dirname(t)),function(e,t,r){if(r)return Rn(t),An(e,t,r);if(ri.existsSync(t))throw new Error("dest already exists.");return An(e,t,r)}(e,t,i)}};const Pn=$i.copy,Nn=Ji.remove,Ln=fi.mkdirp,jn=Ai.pathExists;function _n(e,t,r,i){ri.rename(e,t,n=>n?"EXDEV"!==n.code?i(n):function(e,t,r,i){Pn(e,t,{overwrite:r,errorOnExist:!0},t=>t?i(t):Nn(e,i))}(e,t,r,i):i())}var Dn={move:Wr(function(e,t,r,i){"function"==typeof r&&(i=r,r={});const n=r.overwrite||r.clobber||!1;Si.checkPaths(e,t,"move",(r,s)=>{if(r)return i(r);const{srcStat:a}=s;Si.checkParentPaths(e,a,t,"move",r=>{if(r)return i(r);Ln(o.dirname(t),r=>r?i(r):function(e,t,r,i){if(r)return Nn(t,n=>n?i(n):_n(e,t,r,i));jn(t,(n,s)=>n?i(n):s?i(new Error("dest already exists.")):_n(e,t,r,i))}(e,t,n,i))})})})},Mn=v(function(e){e.exports={...ii,...Ci,...$i,...en,...un,...In,...fi,...kn,...Dn,...vn,...Ai,...Ji},Object.getOwnPropertyDescriptor(a,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>a.promises})});const Bn=e=>console.log(e),Fn=e=>console.log(x.green(x.symbols.check+" ")+e),$n=e=>{console.error(e),process.exit(1)},Gn="win32"===process.platform?["-","\\","|","/"]:["‚†ã","‚†ô","‚†π","‚†∏","‚†º","‚†¥","‚†¶","‚†ß","‚†á","‚†è"],Un=process.stderr;var qn=v(function(e,t){var r;t=e.exports=h,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,n=t.re=[],s=t.src=[],o=t.tokens={},a=0;function c(e){o[e]=a++}c("NUMERICIDENTIFIER"),s[o.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),s[o.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),s[o.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),s[o.MAINVERSION]="("+s[o.NUMERICIDENTIFIER]+")\\.("+s[o.NUMERICIDENTIFIER]+")\\.("+s[o.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),s[o.MAINVERSIONLOOSE]="("+s[o.NUMERICIDENTIFIERLOOSE]+")\\.("+s[o.NUMERICIDENTIFIERLOOSE]+")\\.("+s[o.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),s[o.PRERELEASEIDENTIFIER]="(?:"+s[o.NUMERICIDENTIFIER]+"|"+s[o.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),s[o.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[o.NUMERICIDENTIFIERLOOSE]+"|"+s[o.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),s[o.PRERELEASE]="(?:-("+s[o.PRERELEASEIDENTIFIER]+"(?:\\."+s[o.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),s[o.PRERELEASELOOSE]="(?:-?("+s[o.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[o.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),s[o.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),s[o.BUILD]="(?:\\+("+s[o.BUILDIDENTIFIER]+"(?:\\."+s[o.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),s[o.FULLPLAIN]="v?"+s[o.MAINVERSION]+s[o.PRERELEASE]+"?"+s[o.BUILD]+"?",s[o.FULL]="^"+s[o.FULLPLAIN]+"$",c("LOOSEPLAIN"),s[o.LOOSEPLAIN]="[v=\\s]*"+s[o.MAINVERSIONLOOSE]+s[o.PRERELEASELOOSE]+"?"+s[o.BUILD]+"?",c("LOOSE"),s[o.LOOSE]="^"+s[o.LOOSEPLAIN]+"$",c("GTLT"),s[o.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),s[o.XRANGEIDENTIFIERLOOSE]=s[o.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),s[o.XRANGEIDENTIFIER]=s[o.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),s[o.XRANGEPLAIN]="[v=\\s]*("+s[o.XRANGEIDENTIFIER]+")(?:\\.("+s[o.XRANGEIDENTIFIER]+")(?:\\.("+s[o.XRANGEIDENTIFIER]+")(?:"+s[o.PRERELEASE]+")?"+s[o.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),s[o.XRANGEPLAINLOOSE]="[v=\\s]*("+s[o.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[o.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[o.XRANGEIDENTIFIERLOOSE]+")(?:"+s[o.PRERELEASELOOSE]+")?"+s[o.BUILD]+"?)?)?",c("XRANGE"),s[o.XRANGE]="^"+s[o.GTLT]+"\\s*"+s[o.XRANGEPLAIN]+"$",c("XRANGELOOSE"),s[o.XRANGELOOSE]="^"+s[o.GTLT]+"\\s*"+s[o.XRANGEPLAINLOOSE]+"$",c("COERCE"),s[o.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),n[o.COERCERTL]=new RegExp(s[o.COERCE],"g"),c("LONETILDE"),s[o.LONETILDE]="(?:~>?)",c("TILDETRIM"),s[o.TILDETRIM]="(\\s*)"+s[o.LONETILDE]+"\\s+",n[o.TILDETRIM]=new RegExp(s[o.TILDETRIM],"g"),c("TILDE"),s[o.TILDE]="^"+s[o.LONETILDE]+s[o.XRANGEPLAIN]+"$",c("TILDELOOSE"),s[o.TILDELOOSE]="^"+s[o.LONETILDE]+s[o.XRANGEPLAINLOOSE]+"$",c("LONECARET"),s[o.LONECARET]="(?:\\^)",c("CARETTRIM"),s[o.CARETTRIM]="(\\s*)"+s[o.LONECARET]+"\\s+",n[o.CARETTRIM]=new RegExp(s[o.CARETTRIM],"g"),c("CARET"),s[o.CARET]="^"+s[o.LONECARET]+s[o.XRANGEPLAIN]+"$",c("CARETLOOSE"),s[o.CARETLOOSE]="^"+s[o.LONECARET]+s[o.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),s[o.COMPARATORLOOSE]="^"+s[o.GTLT]+"\\s*("+s[o.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),s[o.COMPARATOR]="^"+s[o.GTLT]+"\\s*("+s[o.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),s[o.COMPARATORTRIM]="(\\s*)"+s[o.GTLT]+"\\s*("+s[o.LOOSEPLAIN]+"|"+s[o.XRANGEPLAIN]+")",n[o.COMPARATORTRIM]=new RegExp(s[o.COMPARATORTRIM],"g"),c("HYPHENRANGE"),s[o.HYPHENRANGE]="^\\s*("+s[o.XRANGEPLAIN]+")\\s+-\\s+("+s[o.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),s[o.HYPHENRANGELOOSE]="^\\s*("+s[o.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[o.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),s[o.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<a;l++)r(l,s[l]),n[l]||(n[l]=new RegExp(s[l]));function u(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?n[o.LOOSE]:n[o.FULL]).test(e))return null;try{return new h(e,t)}catch(e){return null}}function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof h))return new h(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?n[o.LOOSE]:n[o.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=s[4]?s[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e}):[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=u,t.valid=function(e,t){var r=u(e,t);return r?r.version:null},t.clean=function(e,t){var r=u(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=h,h.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},h.prototype.toString=function(){return this.version},h.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof h||(e=new h(e,this.options)),this.compareMain(e)||this.comparePre(e)},h.prototype.compareMain=function(e){return e instanceof h||(e=new h(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)},h.prototype.comparePre=function(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],n=e.prerelease[t];if(r("prerelease compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return d(i,n)}while(++t)},h.prototype.compareBuild=function(e){e instanceof h||(e=new h(e,this.options));var t=0;do{var i=this.build[t],n=e.build[t];if(r("prerelease compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return d(i,n)}while(++t)},h.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,i){"string"==typeof r&&(i=r,r=void 0);try{return new h(e,r).inc(t,i).version}catch(e){return null}},t.diff=function(e,t){if(g(e,t))return null;var r=u(e),i=u(t),n="";if(r.prerelease.length||i.prerelease.length){n="pre";var s="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==i[o])return n+o;return s},t.compareIdentifiers=d;var p=/^[0-9]+$/;function d(e,t){var r=p.test(e),i=p.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1}function f(e,t,r){return new h(e,r).compare(new h(t,r))}function m(e,t,r){return f(e,t,r)>0}function y(e,t,r){return f(e,t,r)<0}function g(e,t,r){return 0===f(e,t,r)}function w(e,t,r){return 0!==f(e,t,r)}function b(e,t,r){return f(e,t,r)>=0}function v(e,t,r){return f(e,t,r)<=0}function E(e,t,r,i){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return g(e,r,i);case"!=":return w(e,r,i);case">":return m(e,r,i);case">=":return b(e,r,i);case"<":return y(e,r,i);case"<=":return v(e,r,i);default:throw new TypeError("Invalid operator: "+t)}}function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof S))return new S(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.value=this.semver===O?"":this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return d(t,e)},t.major=function(e,t){return new h(e,t).major},t.minor=function(e,t){return new h(e,t).minor},t.patch=function(e,t){return new h(e,t).patch},t.compare=f,t.compareLoose=function(e,t){return f(e,t,!0)},t.compareBuild=function(e,t,r){var i=new h(e,r),n=new h(t,r);return i.compare(n)||i.compareBuild(n)},t.rcompare=function(e,t,r){return f(t,e,r)},t.sort=function(e,r){return e.sort(function(e,i){return t.compareBuild(e,i,r)})},t.rsort=function(e,r){return e.sort(function(e,i){return t.compareBuild(i,e,r)})},t.gt=m,t.lt=y,t.eq=g,t.neq=w,t.gte=b,t.lte=v,t.cmp=E,t.Comparator=S;var O={};function x(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof x)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new x(e.raw,t);if(e instanceof S)return new x(e.value,t);if(!(this instanceof x))return new x(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function I(e,t){for(var r=!0,i=e.slice(),n=i.pop();r&&i.length;)r=i.every(function(e){return n.intersects(e,t)}),n=i.pop();return r}function T(e){return!e||"x"===e.toLowerCase()||"*"===e}function R(e,t,r,i,n,s,o,a,c,l,u,h,p){return((t=T(r)?"":T(i)?">="+r+".0.0":T(n)?">="+r+"."+i+".0":">="+t)+" "+(a=T(c)?"":T(l)?"<"+(+c+1)+".0.0":T(u)?"<"+c+"."+(+l+1)+".0":h?"<="+c+"."+l+"."+u+"-"+h:"<="+a)).trim()}function C(e,t,i){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==O&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function A(e,t,r){try{t=new x(t,r)}catch(e){return!1}return t.test(e)}function k(e,t,r,i){var n,s,o,a,c;switch(e=new h(e,i),t=new x(t,i),r){case">":n=m,s=v,o=y,a=">",c=">=";break;case"<":n=y,s=b,o=m,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(A(e,t,i))return!1;for(var l=0;l<t.set.length;++l){var u=null,p=null;if(t.set[l].forEach(function(e){e.semver===O&&(e=new S(">=0.0.0")),p=p||e,n(e.semver,(u=u||e).semver,i)?u=e:o(e.semver,p.semver,i)&&(p=e)}),u.operator===a||u.operator===c)return!1;if((!p.operator||p.operator===a)&&s(e,p.semver))return!1;if(p.operator===c&&o(e,p.semver))return!1}return!0}S.prototype.parse=function(e){var t=e.match(this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR]);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),this.semver=t[2]?new h(t[2],this.options.loose):O},S.prototype.toString=function(){return this.value},S.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===O||e===O)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return E(e,this.operator,this.semver,this.options)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new x(e.value,t),A(this.value,r,t));if(""===e.operator)return""===e.value||(r=new x(this.value,t),A(e.semver,r,t));var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=E(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=E(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||n||s&&o||a||c},t.Range=x,x.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},x.prototype.toString=function(){return this.range},x.prototype.parseRange=function(e){var t=this.options.loose;e=(e=e.trim()).replace(t?n[o.HYPHENRANGELOOSE]:n[o.HYPHENRANGE],R),r("hyphen replace",e),e=e.replace(n[o.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,n[o.COMPARATORTRIM]),e=(e=(e=e.replace(n[o.TILDETRIM],"$1~")).replace(n[o.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],s=e.split(" ").map(function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return r("caret",e,t),e.replace(t.loose?n[o.CARETLOOSE]:n[o.CARET],function(t,i,n,s,o){var a;return r("caret",e,t,i,n,s,o),T(i)?a="":T(n)?a=">="+i+".0.0 <"+(+i+1)+".0.0":T(s)?a="0"===i?">="+i+"."+n+".0 <"+i+"."+(+n+1)+".0":">="+i+"."+n+".0 <"+(+i+1)+".0.0":o?(r("replaceCaret pr",o),a="0"===i?"0"===n?">="+i+"."+n+"."+s+"-"+o+" <"+i+"."+n+"."+(+s+1):">="+i+"."+n+"."+s+"-"+o+" <"+i+"."+(+n+1)+".0":">="+i+"."+n+"."+s+"-"+o+" <"+(+i+1)+".0.0"):(r("no pr"),a="0"===i?"0"===n?">="+i+"."+n+"."+s+" <"+i+"."+n+"."+(+s+1):">="+i+"."+n+"."+s+" <"+i+"."+(+n+1)+".0":">="+i+"."+n+"."+s+" <"+(+i+1)+".0.0"),r("caret return",a),a})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return e.replace(t.loose?n[o.TILDELOOSE]:n[o.TILDE],function(t,i,n,s,o){var a;return r("tilde",e,t,i,n,s,o),T(i)?a="":T(n)?a=">="+i+".0.0 <"+(+i+1)+".0.0":T(s)?a=">="+i+"."+n+".0 <"+i+"."+(+n+1)+".0":o?(r("replaceTilde pr",o),a=">="+i+"."+n+"."+s+"-"+o+" <"+i+"."+(+n+1)+".0"):a=">="+i+"."+n+"."+s+" <"+i+"."+(+n+1)+".0",r("tilde return",a),a})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){return(e=e.trim()).replace(t.loose?n[o.XRANGELOOSE]:n[o.XRANGE],function(i,n,s,o,a,c){r("xRange",e,i,n,s,o,a,c);var l=T(s),u=l||T(o),h=u||T(a);return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",l?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(o=0),a=0,">"===n?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):"<="===n&&(n="<",u?s=+s+1:o=+o+1),i=n+s+"."+o+"."+a+c):u?i=">="+s+".0.0"+c+" <"+(+s+1)+".0.0"+c:h&&(i=">="+s+"."+o+".0"+c+" <"+s+"."+(+o+1)+".0"+c),r("xRange return",i),i})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(n[o.STAR],"")}(e,t),r("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(e){return!!e.match(i)})),s.map(function(e){return new S(e,this.options)},this)},x.prototype.intersects=function(e,t){if(!(e instanceof x))throw new TypeError("a Range is required");return this.set.some(function(r){return I(r,t)&&e.set.some(function(e){return I(e,t)&&r.every(function(r){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new x(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},x.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(C(this.set[t],e,this.options))return!0;return!1},t.satisfies=A,t.maxSatisfying=function(e,t,r){var i=null,n=null;try{var s=new x(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(i&&-1!==n.compare(e)||(n=new h(i=e,r)))}),i},t.minSatisfying=function(e,t,r){var i=null,n=null;try{var s=new x(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(i&&1!==n.compare(e)||(n=new h(i=e,r)))}),i},t.minVersion=function(e,t){e=new x(e,t);var r=new h("0.0.0");if(e.test(r))return r;if(r=new h("0.0.0-0"),e.test(r))return r;r=null;for(var i=0;i<e.set.length;++i)e.set[i].forEach(function(e){var t=new h(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!m(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}});return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new x(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return k(e,t,"<",r)},t.gtr=function(e,t,r){return k(e,t,">",r)},t.outside=k,t.prerelease=function(e,t){var r=u(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new x(e,r),t=new x(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof h)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var i;(i=n[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n[o.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;n[o.COERCERTL].lastIndex=-1}else r=e.match(n[o.COERCE]);return null===r?null:u(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});const{promisify:zn}=h,Hn=qn.satisfies(process.version,">=10.12.0"),Vn=e=>{if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(o.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}},Yn=e=>w({},{mode:511,fs:a},e),Xn=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};var Wn=async(e,t)=>{Vn(e),t=Yn(t);const r=zn(t.fs.mkdir),i=zn(t.fs.stat);if(Hn&&t.fs.mkdir===a.mkdir){const i=o.resolve(e);return await r(i,{mode:t.mode,recursive:!0}),i}const n=async e=>{try{return await r(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(o.dirname(e)===e)throw Xn(e);if(t.message.includes("null bytes"))throw t;return await n(o.dirname(e)),n(e)}try{if(!(await i(e)).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}return e}};return n(o.resolve(e))};Wn.sync=(e,t)=>{if(Vn(e),t=Yn(t),Hn&&t.fs.mkdirSync===a.mkdirSync){const r=o.resolve(e);return a.mkdirSync(r,{mode:t.mode,recursive:!0}),r}const r=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(i){if("EPERM"===i.code)throw i;if("ENOENT"===i.code){if(o.dirname(e)===e)throw Xn(e);if(i.message.includes("null bytes"))throw i;return r(o.dirname(e)),r(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw i}}return e};return r(o.resolve(e))};var Kn=v(function(e,t){const r=c.homedir(),{env:i}=process;t.data=i.XDG_DATA_HOME||(r?o.join(r,".local","share"):void 0),t.config=i.XDG_CONFIG_HOME||(r?o.join(r,".config"):void 0),t.cache=i.XDG_CACHE_HOME||(r?o.join(r,".cache"):void 0),t.runtime=i.XDG_RUNTIME_DIR||void 0,t.dataDirs=(i.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":"),t.data&&t.dataDirs.unshift(t.data),t.configDirs=(i.XDG_CONFIG_DIRS||"/etc/xdg").split(":"),t.config&&t.configDirs.unshift(t.config)}),Jn=v(function(e){!function(){var t;function r(e,i){var n=this instanceof r?this:t;if(n.reset(i),"string"==typeof e&&e.length>0&&n.hash(e),n!==this)return n}r.prototype.hash=function(e){var t,r,i,n,s;switch(this.len+=s=e.length,r=this.k1,i=0,this.rem){case 0:r^=s>i?65535&e.charCodeAt(i++):0;case 1:r^=s>i?(65535&e.charCodeAt(i++))<<8:0;case 2:r^=s>i?(65535&e.charCodeAt(i++))<<16:0;case 3:r^=s>i?(255&e.charCodeAt(i))<<24:0,r^=s>i?(65280&e.charCodeAt(i++))>>8:0}if(this.rem=s+this.rem&3,(s-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=r=13715*(r=(r=11601*r+3432906752*(65535&r)&4294967295)<<15|r>>>17)+461832192*(65535&r)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(i>=s);)r=65535&e.charCodeAt(i++)^(65535&e.charCodeAt(i++))<<8^(65535&e.charCodeAt(i++))<<16,r^=(255&(n=e.charCodeAt(i++)))<<24^(65280&n)>>8;switch(r=0,this.rem){case 3:r^=(65535&e.charCodeAt(i+2))<<16;case 2:r^=(65535&e.charCodeAt(i+1))<<8;case 1:r^=65535&e.charCodeAt(i)}this.h1=t}return this.k1=r,this},r.prototype.result=function(){var e,t;return t=this.h1,(e=this.k1)>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},r.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new r,e.exports=r}()}),Zn=ts;ts.strict=rs,ts.loose=is;var Qn=Object.prototype.toString,es={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function ts(e){return rs(e)||is(e)}function rs(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function is(e){return es[Qn.call(e)]}var ns=Zn.strict,ss=function(e){if(ns(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)},os=function(e,t,r,i){r instanceof Function&&(i=r,r={});const n=async function(e,t,r={}){let i,n;"string"==typeof r&&(r={encoding:r});const s=zt(fs(()=>n)),c=o.resolve(e);try{await function(e){return new Promise(t=>{us[e]||(us[e]=[]),us[e].push(t),1===us[e].length&&t()})}(c);const o=await ls(a.realpath)(e).catch(()=>e);if(n=ds(o),!r.mode||!r.chown){const e=await ls(a.stat)(o).catch(()=>{});e&&(null==r.mode&&(r.mode=e.mode),null==r.chown&&process.getuid&&(r.chown={uid:e.uid,gid:e.gid}))}i=await ls(a.open)(n,"w",r.mode),r.tmpfileCreated&&await r.tmpfileCreated(n),Zn(t)&&(t=ss(t)),Buffer.isBuffer(t)?await ls(a.write)(i,t,0,t.length,0):null!=t&&await ls(a.write)(i,String(t),0,String(r.encoding||"utf8")),!1!==r.fsync&&await ls(a.fsync)(i),await ls(a.close)(i),i=null,r.chown&&await ls(a.chown)(n,r.chown.uid,r.chown.gid).catch(e=>{if(!ms(e))throw e}),r.mode&&await ls(a.chmod)(n,r.mode).catch(e=>{if(!ms(e))throw e}),await ls(a.rename)(n,o)}finally{i&&await ls(a.close)(i).catch(()=>{}),s(),await ls(a.unlink)(n).catch(()=>{}),us[c].shift(),us[c].length>0?us[c][0]():delete us[c]}}(e,t,r);return i&&n.then(i,i),n},as=ds,cs=fs;const{promisify:ls}=h,us={},hs=function(){try{return 0}catch(e){return 0}}();let ps=0;function ds(e){return e+"."+Jn(__filename).hash(String(process.pid)).hash(String(hs)).hash(String(++ps)).result()}function fs(e){return()=>{try{a.unlinkSync("function"==typeof e?e():e)}catch(e){}}}function ms(e){return"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}os.sync=function(e,t,r){"string"==typeof r?r={encoding:r}:r||(r={});try{e=a.realpathSync(e)}catch(e){}const i=ds(e);if(!r.mode||!r.chown)try{const t=a.statSync(e);(r=Object.assign({},r)).mode||(r.mode=t.mode),!r.chown&&process.getuid&&(r.chown={uid:t.uid,gid:t.gid})}catch(e){}let n;const s=fs(i),o=zt(s);let c=!0;try{if(n=a.openSync(i,"w",r.mode||438),r.tmpfileCreated&&r.tmpfileCreated(i),Zn(t)&&(t=ss(t)),Buffer.isBuffer(t)?a.writeSync(n,t,0,t.length,0):null!=t&&a.writeSync(n,String(t),0,String(r.encoding||"utf8")),!1!==r.fsync&&a.fsyncSync(n),a.closeSync(n),n=null,r.chown)try{a.chownSync(i,r.chown.uid,r.chown.gid)}catch(e){if(!ms(e))throw e}if(r.mode)try{a.chmodSync(i,r.mode)}catch(e){if(!ms(e))throw e}a.renameSync(i,e),c=!1}finally{if(n)try{a.closeSync(n)}catch(e){}o(),c&&s()}},os._getTmpname=as,os._cleanupOnExit=cs;var ys=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)};const gs=["__proto__","prototype","constructor"];function ws(e){const t=e.split("."),r=[];for(let e=0;e<t.length;e++){let i=t[e];for(;"\\"===i[i.length-1]&&void 0!==t[e+1];)i=i.slice(0,-1)+".",i+=t[++e];r.push(i)}return r.some(e=>gs.includes(e))?[]:r}var bs={get(e,t,r){if(!ys(e)||"string"!=typeof t)return void 0===r?e:r;const i=ws(t);if(0!==i.length){for(let t=0;t<i.length;t++){if(!Object.prototype.propertyIsEnumerable.call(e,i[t]))return r;if(null==(e=e[i[t]])){if(t!==i.length-1)return r;break}}return e}},set(e,t,r){if(!ys(e)||"string"!=typeof t)return e;const i=e,n=ws(t);for(let t=0;t<n.length;t++){const i=n[t];ys(e[i])||(e[i]={}),t===n.length-1&&(e[i]=r),e=e[i]}return i},delete(e,t){if(!ys(e)||"string"!=typeof t)return!1;const r=ws(t);for(let t=0;t<r.length;t++){const i=r[t];if(t===r.length-1)return delete e[i],!0;if(!ys(e=e[i]))return!1}},has(e,t){if(!ys(e)||"string"!=typeof t)return!1;const r=ws(t);if(0===r.length)return!1;for(let t=0;t<r.length;t++){if(!ys(e))return!1;if(!(r[t]in e))return!1;e=e[r[t]]}return!0}};const vs=Kn.config||o.join(c.tmpdir(),(e=>{if(!Number.isFinite(32))throw new TypeError("Expected a finite number");return p.randomBytes(Math.ceil(16)).toString("hex").slice(0,32)})()),Es={mode:448},Ss={mode:384};let Os;const xs=()=>(Os||(Os=new class{constructor(e,t,r={}){const i=r.globalConfigPath?o.join(e,"config.json"):o.join("configstore",e+".json");this.path=r.configPath||o.join(vs,i),t&&(this.all=w({},t,this.all))}get all(){try{return JSON.parse(ri.readFileSync(this.path,"utf8"))}catch(e){if("ENOENT"===e.code)return{};if("EACCES"===e.code&&(e.message=e.message+"\nYou don't have access to this file.\n"),"SyntaxError"===e.name)return os.sync(this.path,"",Ss),{};throw e}}set all(e){try{Wn.sync(o.dirname(this.path),Es),os.sync(this.path,JSON.stringify(e,void 0,"\t"),Ss)}catch(e){throw"EACCES"===e.code&&(e.message=e.message+"\nYou don't have access to this file.\n"),e}}get size(){return Object.keys(this.all||{}).length}get(e){return bs.get(this.all,e)}set(e,t){const r=this.all;if(1===arguments.length)for(const t of Object.keys(e))bs.set(r,t,e[t]);else bs.set(r,e,t);this.all=r}has(e){return bs.has(this.all,e)}delete(e){const t=this.all;bs.delete(t,e),this.all=t}clear(){this.all={}}}("gatsby",{},{globalConfigPath:!0})),Os),Is=(e=1)=>new Promise(t=>{process.stderr.moveCursor(0,-e,()=>{process.stderr.write("[2K"),t()})}),Ts=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^a-z0-9_.]+/g,"-").replace(/^[_\-.]+|[_\-.]+$/g,""),Rs=e=>{const t=xs();return t.get("cli.packageManager")||((null==e?void 0:e.includes("yarn"))?(t.set("cli.packageManager","yarn"),"yarn"):(t.set("cli.packageManager","npm"),"npm"))},Cs=(e,t)=>require.resolve(e,t),As=e=>null!=e&&"object"!=typeof e&&"function"!=typeof e;class ks extends $e.Form{async renderChoice(e,t){await this.onChoice(e,t);let{state:r,styles:i}=this,{cursor:n,initial:s="",name:o,input:a=""}=e,{muted:c,submitted:l,primary:u,danger:h}=i,p=this.index===t,d=e.validate||(()=>!0),f=await this.choiceSeparator(e,t),m=e.message;"right"===this.align&&(m=m.padStart(this.longest+1," ")),"left"===this.align&&(m=m.padEnd(this.longest+1," "));let y=this.values[o]=a||s,g=a?"success":"dark";!0!==await d.call(e,y,this.state)&&(g="danger");let w=(0,i[g])(await this.indicator(e,t))+(e.pad||""),b=this.indent(e),v=()=>[b,w,m+f,a].filter(Boolean).join(" ");return r.submitted?(m=x.unstyle(m),a=l(a),v()):(a=e.format?await e.format.call(this,a,e,t):((e,t={})=>{e.cursorHide();let{input:r="",initial:i="",pos:n,showCursor:s=!0,color:o}=t,a=o||e.styles.placeholder,c=e.styles.primary.inverse,l=e=>c(e),u=r,h=l(" ");if(e.blink&&!0===e.blink.off&&(l=e=>e,h=""),s&&0===n&&""===i&&""===r)return l(" ");if(s&&0===n&&(r===i||""===r))return l(i[0])+a(i.slice(1));i=As(i)?""+i:"",r=As(r)?""+r:"";let p=i&&i.startsWith(r)&&i!==r,d=p?l(i[r.length]):h;if(n!==r.length&&!0===s&&(u=r.slice(0,n)+l(r[n])+r.slice(n+1),d=""),!1===s&&(d=""),p){let t=e.styles.unstyle(u+d);return u+d+a(i.slice(t.length))}return u+d})(this,{input:a,initial:s,pos:n,showCursor:p,color:this.styles.muted}),this.isValue(a)||(a=this.styles.muted(this.symbols.ellipsis)),e.result&&(this.values[o]=await e.result.call(this,y,e,t)),p&&(m=u(m)),e.error?a+=(a?" ":"")+h(e.error.trim()):e.hint&&p&&(a+=(a?"\n"+" ".repeat(this.longest+6):"")+c(e.hint.trim())),v())}}class Ps extends $e.Input{constructor(e){super(e),this.cursorShow()}async render(){var e;const t=this.state.size,r=await this.prefix(),i=await this.separator(),n=await this.message();let s=[r," ",this.styles.muted(await this.element("hint")),i].filter(Boolean).join("");this.state.prompt=s;const o=await this.header();let a=await this.format();const c=this.styles.unstyle(a);!(null==(e=this.input)?void 0:e.length)&&c.length?(this.cursorHide(),a=this.styles.highlight(c[0])+this.styles.placeholder(c.slice(1))):this.cursorShow();const l=await this.footer();s+=" "+a,this.clear(t),this.write([o,n,s,await this.error(),l].filter(Boolean).join("\n")),this.restore()}}class Ns extends $e.Select{format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(e=>this.styles.primary(this.symbols.middot+" "+e.message)).join("\n"):this.styles.primary(this.symbols.middot+" "+this.selected.message)}async indicator(e){return this.multiple&&"separator"!==e.role&&"___done"!==e.name?this.symbols.radio[e.enabled?"on":"off"]:""}async pointer(e,t){const r=await this.element("pointer",e,t);if(!r)return;const i=this.index===t,n=i?this.styles.primary:e=>e,s=await this.resolve(r[i?"on":"off"]||r,this.state);return i?n(s):" ".repeat(s.length)}async render(){const{submitted:e,size:t}=this.state;let r="";const i=await this.header(),n=await this.prefix(),s=await this.message();!1!==this.options.promptLine&&(r=[n,s].join(" "),this.state.prompt=r);const o=await this.format(),a=await this.error()||await this.hint(),c=await this.renderChoices(),l=await this.footer();o&&(r+="\n"+o),a&&!r.includes(a)&&(r+="\n"+a),e&&!o&&!c.trim()&&this.multiple&&null!=this.emptyError&&(r+=this.styles.danger(this.emptyError)),this.clear(t),this.write([i,r,c,l].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}class Ls extends Ns{constructor(e){super(w({},e,{multiple:!0}))}toggle(e,t){super.toggle(e,t)}async toChoices(e,t){const r=[{role:"separator"},{message:this.styles.bold("Done"),name:"___done"}];return"function"==typeof e&&(e=await e.call(this)),e instanceof Promise&&(e=await e),super.toChoices([...e,...r],t)}submit(){return"___done"===this.focused.name?super.submit():this.space()}next(){return this.index===this.choices.length-1?super.next():this.end()}}const js=e=>(e.register("textinput",Ps),e.register("selectinput",Ns),e.register("multiselectinput",Ls),e.register("forminput",ks),e);var _s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Ds=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function Ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Bs=function(){function e(){for(var t=this,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];return Ms(this,e),this.tag=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,i))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map(function(e){return"function"==typeof e?e():e}),this.tag}return _s(e,[{key:"interimTag",value:function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return this.tag(Ds,e.apply(void 0,[t].concat(i)))}},{key:"processSubstitutions",value:function(e,t,r){var i=this.transformSubstitution(e.shift(),t);return"".concat(t,i,r)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,r){return r.onSubstitution?r.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),Fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function $s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var Gs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var r=t.match(/^[^\S\n]*(?=\S)/gm),i=r&&Math.min.apply(Math,$s(r.map(function(e){return e.length})));if(i){var n=new RegExp("^.{"+i+"}","gm");return t.replace(n,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},Us=function(e,t){return{onEndResult:function(r){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(e,t)}}},qs=function(e,t){return{onSubstitution:function(r,i){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(e,t)}}},zs={separator:"",conjunction:"",serial:!1},Hs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs;return{onSubstitution:function(t,r){if(Array.isArray(t)){var i=t.length,n=e.separator,s=e.conjunction,o=e.serial,a=r.match(/(\n?[^\S\n]+)$/);if(t=t.join(a?n+a[1]:n+" "),s&&i>1){var c=t.lastIndexOf(n);t=t.slice(0,c)+(o?n:"")+" "+s+t.slice(c+1)}}return t}}},Vs=function(e){return{onSubstitution:function(t,r){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},Ys=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},Xs=(new Bs(Hs({separator:","}),Gs,Fs),new Bs(Hs({separator:",",conjunction:"and"}),Gs,Fs),new Bs(Hs({separator:",",conjunction:"or"}),Gs,Fs),new Bs(Vs("\n"),function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(Ys):Ys(e)?e:""}}},Hs,Gs,Fs),new Bs(Vs("\n"),Hs,Gs,Fs,qs(/&/g,"&amp;"),qs(/</g,"&lt;"),qs(/>/g,"&gt;"),qs(/"/g,"&quot;"),qs(/'/g,"&#x27;"),qs(/`/g,"&#x60;")),new Bs(Us(/(?:\n(?:\s*))+/g," "),Fs),new Bs(Us(/(?:\n\s*)/g,""),Fs),new Bs(Hs({separator:","}),Us(/(?:\s+)/g," "),Fs),new Bs(Hs({separator:",",conjunction:"or"}),Us(/(?:\s+)/g," "),Fs),new Bs(Hs({separator:",",conjunction:"and"}),Us(/(?:\s+)/g," "),Fs),new Bs(Hs,Gs,Fs),new Bs(Hs,Us(/(?:\s+)/g," "),Fs),new Bs(Gs,Fs)),Ws=(new Bs(Gs("all"),Fs),v(function(e){const t=e.exports;e.exports.default=t;const r="[",i="]",n="",s=";",o="Apple_Terminal"===process.env.TERM_PROGRAM;t.cursorTo=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?r+(e+1)+"G":r+(t+1)+";"+(e+1)+"H"},t.cursorMove=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let i="";return e<0?i+=r+-e+"D":e>0&&(i+=r+e+"C"),t<0?i+=r+-t+"A":t>0&&(i+=r+t+"B"),i},t.cursorUp=(e=1)=>r+e+"A",t.cursorDown=(e=1)=>r+e+"B",t.cursorForward=(e=1)=>r+e+"C",t.cursorBackward=(e=1)=>r+e+"D",t.cursorLeft="[G",t.cursorSavePosition=o?"7":"[s",t.cursorRestorePosition=o?"8":"[u",t.cursorGetPosition="[6n",t.cursorNextLine="[E",t.cursorPrevLine="[F",t.cursorHide="[?25l",t.cursorShow="[?25h",t.eraseLines=e=>{let r="";for(let i=0;i<e;i++)r+=t.eraseLine+(i<e-1?t.cursorUp():"");return e&&(r+=t.cursorLeft),r},t.eraseEndLine="[K",t.eraseStartLine="[1K",t.eraseLine="[2K",t.eraseDown="[J",t.eraseUp="[1J",t.eraseScreen="[2J",t.scrollUp="[S",t.scrollDown="[T",t.clearScreen="c",t.clearTerminal="win32"===process.platform?t.eraseScreen+"[0f":t.eraseScreen+"[3J[H",t.beep=n,t.link=(e,t)=>[i,"8",s,s,t,n,e,i,"8",s,s,n].join(""),t.image=(e,t={})=>{let r=i+"1337;File=inline=1";return t.width&&(r+=";width="+t.width),t.height&&(r+=";height="+t.height),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+n},t.iTerm={setCwd:(e=process.cwd())=>`${i}50;CurrentDir=${e}${n}`,annotation:(e,t={})=>{let r=i+"1337;";const s=void 0!==t.x,o=void 0!==t.y;if((s||o)&&(!s||!o||void 0===t.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",r+=t.length>0?(s?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):e,r+n}}})),Ks=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(r+e),n=t.indexOf("--");return-1!==i&&(-1===n||i<n)};const{env:Js}=process;let Zs;function Qs(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function eo(e,t){if(0===Zs)return 0;if(Ks("color=16m")||Ks("color=full")||Ks("color=truecolor"))return 3;if(Ks("color=256"))return 2;if(e&&!t&&void 0===Zs)return 0;const r=Zs||0;if("dumb"===Js.TERM)return r;if("win32"===process.platform){const e=c.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in Js)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in Js)||"codeship"===Js.CI_NAME?1:r;if("TEAMCITY_VERSION"in Js)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Js.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in Js)return 1;if("truecolor"===Js.COLORTERM)return 3;if("TERM_PROGRAM"in Js){const e=parseInt((Js.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Js.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Js.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Js.TERM)||"COLORTERM"in Js?1:r}function to(e){if(/^\d{3,4}$/.test(e)){const t=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}const t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function ro(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&0===parseInt(t.FORCE_HYPERLINK,10));if(Ks("no-hyperlink")||Ks("no-hyperlinks")||Ks("hyperlink=false")||Ks("hyperlink=never"))return!1;if(Ks("hyperlink=true")||Ks("hyperlink=always"))return!0;if(!function(e){return Qs(eo(e,e&&e.isTTY))}(e))return!1;if(e&&!e.isTTY)return!1;if("win32"===process.platform)return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const e=to(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3}}if("VTE_VERSION"in t){if("0.50.0"===t.VTE_VERSION)return!1;const e=to(t.VTE_VERSION);return e.major>0||e.minor>=50}return!1}Ks("no-color")||Ks("no-colors")||Ks("color=false")||Ks("color=never")?Zs=0:(Ks("color")||Ks("colors")||Ks("color=true")||Ks("color=always"))&&(Zs=1),"FORCE_COLOR"in Js&&(Zs="true"===Js.FORCE_COLOR?1:"false"===Js.FORCE_COLOR?0:0===Js.FORCE_COLOR.length?1:Math.min(parseInt(Js.FORCE_COLOR,10),3)),Qs(eo(!0,d.isatty(1))),Qs(eo(!0,d.isatty(2)));var io={supportsHyperlink:ro,stdout:ro(process.stdout),stderr:ro(process.stderr)},no=v(function(e){const t=(e,t,r={})=>{let{target:i="stdout"}=r,n=function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(r=s[i])>=0||(n[r]=e[r]);return n}(r,["target"]);return io[i]?Ws.link(e,t):!1===n.fallback?e:"function"==typeof n.fallback?n.fallback(e,t):`${e} (‚Äã${t}‚Äã)`};e.exports=(e,r,i={})=>t(e,r,i),e.exports.stderr=(e,r,i={})=>t(e,r,w({target:"stderr"},i)),e.exports.isSupported=io.stdout,e.exports.stderr.isSupported=io.stderr}),so={"gatsby-source-wordpress":{type:"object",keys:{url:{type:"string",flags:{description:"This should be the full url of your GraphQL endpoint set up by WP GraphQL",presence:"required"}}}},"gatsby-source-contentful":{type:"object",externals:[{}],keys:{accessToken:{type:"string",flags:{description:"Contentful delivery api key, when using the Preview API use your Preview API key",presence:"required"}},spaceId:{type:"string",flags:{description:"Contentful spaceId",presence:"required"}},host:{type:"string",flags:{description:"The base host for all the API requests, by default it's 'cdn.contentful.com', if you want to use the Preview API set it to 'preview.contentful.com'. You can use your own host for debugging/testing purposes as long as you respect the same Contentful JSON structure.",default:"cdn.contentful.com"}},environment:{type:"string",flags:{description:"The environment to pull the content from, for more info on environments check out this [Guide](https://www.contentful.com/developers/docs/concepts/multiple-environments/).",default:"master"}},downloadLocal:{type:"boolean",flags:{description:"Downloads and caches ContentfulAsset's to the local filesystem. Allows you to query a ContentfulAsset's localFile field, which is not linked to Contentful's CDN. Useful for reducing data usage.\nYou can pass in any other options available in the [contentful.js SDK](https://github.com/contentful/contentful.js#configuration).",default:!1}},localeFilter:{type:"function",flags:{description:"Possibility to limit how many locales/nodes are created in GraphQL. This can limit the memory usage by reducing the amount of nodes created. Useful if you have a large space in contentful and only want to get the data from one selected locale.\nFor example, to filter locales on only germany `localeFilter: locale => locale.code === 'de-DE'`\n\nList of locales and their codes can be found in Contentful app -> Settings -> Locales"}},forceFullSync:{type:"boolean",flags:{description:"Prevents the use of sync tokens when accessing the Contentful API.",default:!1}},pageLimit:{type:"number",flags:{description:"Number of entries to retrieve from Contentful at a time. Due to some technical limitations, the response payload should not be greater than 7MB when pulling content from Contentful. If you encounter this issue you can set this param to a lower number than 100, e.g 50.",default:100},rules:[{name:"integer"}]},assetDownloadWorkers:{type:"number",flags:{description:"Number of workers to use when downloading contentful assets. Due to technical limitations, opening too many concurrent requests can cause stalled downloads. If you encounter this issue you can set this param to a lower number than 50, e.g 25.",default:50},rules:[{name:"integer"}]},proxy:{type:"object",flags:{description:"Axios proxy configuration. See the [axios request config documentation](https://github.com/mzabriskie/axios#request-config) for further information about the supported values."},keys:{host:{type:"string",flags:{presence:"required"}},port:{type:"number",flags:{presence:"required"}},auth:{type:"object",keys:{username:{type:"string"},password:{type:"string"}}}}},useNameForId:{type:"boolean",flags:{description:"Use the content's `name` when generating the GraphQL schema e.g. a Content Type called `[Component] Navigation bar` will be named `contentfulComponentNavigationBar`.\n    When set to `false`, the content's internal ID will be used instead e.g. a Content Type with the ID `navigationBar` will be called `contentfulNavigationBar`.\n\n    Using the ID is a much more stable property to work with as it will change less often. However, in some scenarios, Content Types' IDs will be auto-generated (e.g. when creating a new Content Type without specifying an ID) which means the name in the GraphQL schema will be something like `contentfulC6XwpTaSiiI2Ak2Ww0oi6qa`. This won't change and will still function perfectly as a valid field name but it is obviously pretty ugly to work with.\n\n    If you are confident your Content Types will have natural-language IDs (e.g. `blogPost`), then you should set this option to `false`. If you are unable to ensure this, then you should leave this option set to `true` (the default).",default:!0}},plugins:{type:"array"},richText:{type:"object",flags:{default:{}},keys:{resolveFieldLocales:{type:"boolean",flags:{description:"If you want to resolve the locales in fields of assets and entries that are referenced by rich text (e.g., via embedded entries or entry hyperlinks), set this to `true`. Otherwise, fields of referenced assets or entries will be objects keyed by locale.",default:!1}}}}}},"gatsby-source-sanity":{type:"object",keys:{projectId:{type:"string",flags:{description:"Your Sanity project's ID",presence:"required"}},dataset:{type:"string",flags:{description:"The dataset to fetch from",presence:"required"}}}},"gatsby-source-shopify":{type:"object",keys:{shopName:{type:"string",flags:{description:"The domain name of your Shopify shop",presence:"required"}},accessToken:{type:"string",flags:{description:"An API access token to your Shopify shop",presence:"required"}}}},"gatsby-source-datocms":{type:"object",keys:{apiToken:{type:"string",flags:{description:"Your read-only API token under the Settings > API tokens section of your administrative area in DatoCMS",presence:"required"}}}},"gatsby-source-agility":{type:"object",keys:{guid:{type:"string",flags:{description:"your Agility Content Fetch API Guid",presence:"required"}}}},"gatsby-plugin-postcss":{},"gatsby-plugin-styled-components":{},"gatsby-plugin-emotion":{},"gatsby-plugin-sass":{},"gatsby-plugin-theme-ui":{},"gatsby-plugin-google-analytics":{type:"object",keys:{trackingId:{type:"string",flags:{description:"The property ID; the tracking code won't be generated without it",presence:"required"}},head:{type:"boolean",flags:{default:!1,description:"Defines where to place the tracking script - `true` in the head and `false` in the body"}},anonymize:{type:"boolean",flags:{default:!1}},respectDNT:{type:"boolean",flags:{default:!1}},exclude:{type:"array",flags:{default:[],description:"Avoids sending pageview hits from custom paths"},items:[{type:"string"}]},pageTransitionDelay:{type:"number",flags:{default:0,description:"Delays sending pageview hits on route update (in milliseconds)"}},optimizeId:{type:"string",flags:{description:"Enables Google Optimize using your container Id"}},experimentId:{type:"string",flags:{description:"Enables Google Optimize Experiment ID"}},variationId:{type:"string",flags:{description:"Set Variation ID. 0 for original 1,2,3...."}},defer:{type:"boolean",flags:{description:"Defers execution of google analytics script after page load"}},sampleRate:{type:"number"},siteSpeedSampleRate:{type:"number"},cookieDomain:{type:"string"}}},"gatsby-plugin-sitemap":{},"gatsby-plugin-mdx":{},"gatsby-plugin-offline":{},"gatsby-plugin-manifest":{type:"object",keys:{name:{type:"string"},short_name:{type:"string"},description:{type:"string"},lang:{type:"string"},localize:{type:"array",items:[{type:"object",keys:{start_url:{type:"string"},name:{type:"string"},short_name:{type:"string"},description:{type:"string"},lang:{type:"string"}}}]},start_url:{type:"string"},background_color:{type:"string"},theme_color:{type:"string"},display:{type:"string"},legacy:{type:"boolean"},include_favicon:{type:"boolean"},icon:{type:"string"},theme_color_in_head:{type:"boolean"},crossOrigin:{type:"string",flags:{only:!0},allow:["use-credentials","anonymous"]},cache_busting_mode:{type:"string",flags:{only:!0},allow:["query","name","none"]},icons:{type:"array",items:[{type:"object",keys:{src:{type:"string"},sizes:{type:"string"},type:{type:"string"},purpose:{type:"string"}}}]},icon_options:{type:"object",keys:{purpose:{type:"string"}}}}}};const oo=["string","boolean","number"];function ao(e){const t=[Ge,Ue];for(const r of t)if(e in r)return r[e].message;return e}function co(e){return x.blueBright(no("the plugin docs",`https://www.gatsbyjs.com/plugins/${e}/`,{fallback:(e,t)=>t}))}const lo=([e,t])=>{var r;return"required"===(null==t||null==(r=t.flags)?void 0:r.presence)},uo=([e,t])=>{var r,i,n,s;return{name:e,initial:(null==(r=t.flags)?void 0:r.default)&&oo.includes(typeof(null==(i=t.flags)?void 0:i.default))?null==(n=t.flags)?void 0:n.default.toString():void 0,message:e,hint:null==(s=t.flags)?void 0:s.description}};function ho(e,t){let r=0;for(let i of t.patterns){let t=e.match(i);if(t)for(let e of t)r+=e.length}return e.length-r}const po=process.stdout.columns,fo=l.Readable,mo=Symbol("buffer"),yo=Symbol("type");class go{constructor(){this[yo]="";const e=arguments[0],t=arguments[1],r=[];if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let n;n=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof go?i[mo]:Buffer.from("string"==typeof i?i:String(i)),r.push(n)}}this[mo]=Buffer.concat(r);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[yo]=i)}get size(){return this[mo].length}get type(){return this[yo]}text(){return Promise.resolve(this[mo].toString())}arrayBuffer(){const e=this[mo],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new fo;return e._read=function(){},e.push(this[mo]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let i,n;i=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),n=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const s=Math.max(n-i,0),o=this[mo].slice(i,i+s),a=new go([],{type:arguments[2]});return a[mo]=o,a}}function wo(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let bo;Object.defineProperties(go.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(go.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),(wo.prototype=Object.create(Error.prototype)).constructor=wo,wo.prototype.name="FetchError";try{bo=require("encoding").convert}catch(e){}const vo=Symbol("Body internals"),Eo=l.PassThrough;function So(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size;let n=void 0===i?0:i;var s=r.timeout;let o=void 0===s?0:s;null==e?e=null:xo(e)?e=Buffer.from(e.toString()):Io(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof l||(e=Buffer.from(String(e)))),this[vo]={body:e,disturbed:!1,error:null},this.size=n,this.timeout=o,e instanceof l&&e.on("error",function(e){const r="AbortError"===e.name?e:new wo(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[vo].error=r})}function Oo(){var e=this;if(this[vo].disturbed)return So.Promise.reject(new TypeError("body used already for: "+this.url));if(this[vo].disturbed=!0,this[vo].error)return So.Promise.reject(this[vo].error);let t=this.body;if(null===t)return So.Promise.resolve(Buffer.alloc(0));if(Io(t)&&(t=t.stream()),Buffer.isBuffer(t))return So.Promise.resolve(t);if(!(t instanceof l))return So.Promise.resolve(Buffer.alloc(0));let r=[],i=0,n=!1;return new So.Promise(function(s,o){let a;e.timeout&&(a=setTimeout(function(){n=!0,o(new wo(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(n=!0,o(t)):o(new wo(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!n&&null!==t){if(e.size&&i+t.length>e.size)return n=!0,void o(new wo(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=t.length,r.push(t)}}),t.on("end",function(){if(!n){clearTimeout(a);try{s(Buffer.concat(r,i))}catch(t){o(new wo(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function xo(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function Io(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function To(e){let t,r,i=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof l&&"function"!=typeof i.getBoundary&&(t=new Eo,r=new Eo,i.pipe(t),i.pipe(r),e[vo].body=t,i=r),i}function Ro(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":xo(e)?"application/x-www-form-urlencoded;charset=UTF-8":Io(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof l?null:"text/plain;charset=UTF-8"}function Co(e){const t=e.body;return null===t?0:Io(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}So.prototype={get body(){return this[vo].body},get bodyUsed(){return this[vo].disturbed},arrayBuffer(){return Oo.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return Oo.call(this).then(function(t){return Object.assign(new go([],{type:e.toLowerCase()}),{[mo]:t})})},json(){var e=this;return Oo.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return So.Promise.reject(new wo(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return Oo.call(this).then(function(e){return e.toString()})},buffer(){return Oo.call(this)},textConverted(){var e=this;return Oo.call(this).then(function(t){return function(e,t){if("function"!=typeof bo)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let i,n,s="utf-8";return r&&(i=/charset=([^;]*)/i.exec(r)),n=e.slice(0,1024).toString(),!i&&n&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!i&&n&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(n),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&n&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),i&&(s=i.pop(),"gb2312"!==s&&"gbk"!==s||(s="gb18030")),bo(e,"UTF-8",s).toString()}(t,e.headers)})}},Object.defineProperties(So.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),So.mixIn=function(e){for(const t of Object.getOwnPropertyNames(So.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(So.prototype,t);Object.defineProperty(e,t,r)}},So.Promise=global.Promise;const Ao=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,ko=/[^\t\x20-\x7e\x80-\xff]/;function Po(e){if(Ao.test(e=""+e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function No(e){if(ko.test(e=""+e))throw new TypeError(e+" is not a legal HTTP header value")}function Lo(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const jo=Symbol("map");class _o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[jo]=Object.create(null),e instanceof _o){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e))this.append(t,e[t])}}}get(e){Po(e=""+e);const t=Lo(this[jo],e);return void 0===t?null:this[jo][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=Do(this),i=0;for(;i<r.length;){var n=r[i];e.call(t,n[1],n[0],this),r=Do(this),i++}}set(e,t){t=""+t,Po(e=""+e),No(t);const r=Lo(this[jo],e);this[jo][void 0!==r?r:e]=[t]}append(e,t){t=""+t,Po(e=""+e),No(t);const r=Lo(this[jo],e);void 0!==r?this[jo][r].push(t):this[jo][e]=[t]}has(e){return Po(e=""+e),void 0!==Lo(this[jo],e)}delete(e){Po(e=""+e);const t=Lo(this[jo],e);void 0!==t&&delete this[jo][t]}raw(){return this[jo]}keys(){return Bo(this,"key")}values(){return Bo(this,"value")}[Symbol.iterator](){return Bo(this,"key+value")}}function Do(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(e[jo]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[jo][t].join(", ")}:function(t){return[t.toLowerCase(),e[jo][t].join(", ")]})}_o.prototype.entries=_o.prototype[Symbol.iterator],Object.defineProperty(_o.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(_o.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const Mo=Symbol("internal");function Bo(e,t){const r=Object.create(Fo);return r[Mo]={target:e,kind:t,index:0},r}const Fo=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Fo)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[Mo];const t=e.index,r=Do(e.target,e.kind);return t>=r.length?{value:void 0,done:!0}:(this[Mo].index=t+1,{value:r[t],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function $o(e){const t=Object.assign({__proto__:null},e[jo]),r=Lo(e[jo],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(Fo,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const Go=Symbol("Response internals"),Uo=f.STATUS_CODES;class qo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};So.call(this,e,t);const r=t.status||200,i=new _o(t.headers);if(null!=e&&!i.has("Content-Type")){const t=Ro(e);t&&i.append("Content-Type",t)}this[Go]={url:t.url,status:r,statusText:t.statusText||Uo[r],headers:i,counter:t.counter}}get url(){return this[Go].url||""}get status(){return this[Go].status}get ok(){return this[Go].status>=200&&this[Go].status<300}get redirected(){return this[Go].counter>0}get statusText(){return this[Go].statusText}get headers(){return this[Go].headers}clone(){return new qo(To(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}So.mixIn(qo.prototype),Object.defineProperties(qo.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(qo.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const zo=Symbol("Request internals"),Ho=m.parse,Vo=m.format,Yo="destroy"in l.Readable.prototype;function Xo(e){return"object"==typeof e&&"object"==typeof e[zo]}class Wo{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xo(e)?t=Ho(e.url):(t=Ho(e&&e.href?e.href:""+e),e={});let i=r.method||e.method||"GET";if(i=i.toUpperCase(),(null!=r.body||Xo(e)&&null!==e.body)&&("GET"===i||"HEAD"===i))throw new TypeError("Request with GET/HEAD method cannot have body");let n=null!=r.body?r.body:Xo(e)&&null!==e.body?To(e):null;So.call(this,n,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const s=new _o(r.headers||e.headers||{});if(null!=n&&!s.has("Content-Type")){const e=Ro(n);e&&s.append("Content-Type",e)}let o=Xo(e)?e.signal:null;if("signal"in r&&(o=r.signal),null!=o&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(o))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[zo]={method:i,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:o},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[zo].method}get url(){return Vo(this[zo].parsedURL)}get headers(){return this[zo].headers}get redirect(){return this[zo].redirect}get signal(){return this[zo].signal}clone(){return new Wo(this)}}function Ko(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}So.mixIn(Wo.prototype),Object.defineProperty(Wo.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Wo.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),(Ko.prototype=Object.create(Error.prototype)).constructor=Ko,Ko.prototype.name="AbortError";const Jo=l.PassThrough,Zo=m.resolve;function Qo(e,t){if(!Qo.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return So.Promise=Qo.Promise,new Qo.Promise(function(r,i){const n=new Wo(e,t),s=function(e){const t=e[zo].parsedURL,r=new _o(e[zo].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof l.Readable&&!Yo)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(i="0"),null!=e.body){const t=Co(e);"number"==typeof t&&(i=String(t))}i&&r.set("Content-Length",i),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let n=e.agent;return"function"==typeof n&&(n=n(t)),r.has("Connection")||n||r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:$o(r),agent:n})}(n),o=("https:"===s.protocol?y:f).request,a=n.signal;let c=null;const u=function(){let e=new Ko("The user aborted a request.");i(e),n.body&&n.body instanceof l.Readable&&n.body.destroy(e),c&&c.body&&c.body.emit("error",e)};if(a&&a.aborted)return void u();const h=function(){u(),m()},p=o(s);let d;function m(){p.abort(),a&&a.removeEventListener("abort",h),clearTimeout(d)}a&&a.addEventListener("abort",h),n.timeout&&p.once("socket",function(e){d=setTimeout(function(){i(new wo("network timeout at: "+n.url,"request-timeout")),m()},n.timeout)}),p.on("error",function(e){i(new wo(`request to ${n.url} failed, reason: ${e.message}`,"system",e)),m()}),p.on("response",function(e){clearTimeout(d);const t=function(e){const t=new _o;for(const r of Object.keys(e))if(!Ao.test(r))if(Array.isArray(e[r]))for(const i of e[r])ko.test(i)||(void 0===t[jo][r]?t[jo][r]=[i]:t[jo][r].push(i));else ko.test(e[r])||(t[jo][r]=[e[r]]);return t}(e.headers);if(Qo.isRedirect(e.statusCode)){const s=t.get("Location"),o=null===s?null:Zo(n.url,s);switch(n.redirect){case"error":return i(new wo("uri requested responds with a redirect, redirect mode is set to error: "+n.url,"no-redirect")),void m();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":if(null===o)break;if(n.counter>=n.follow)return i(new wo("maximum redirect reached at: "+n.url,"max-redirect")),void m();const s={headers:new _o(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:n.body,signal:n.signal,timeout:n.timeout,size:n.size};return 303!==e.statusCode&&n.body&&null===Co(n)?(i(new wo("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void m()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==n.method)||(s.method="GET",s.body=void 0,s.headers.delete("content-length")),r(Qo(new Wo(o,s))),void m())}}e.once("end",function(){a&&a.removeEventListener("abort",h)});let s=e.pipe(new Jo);const o={url:n.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:n.size,timeout:n.timeout,counter:n.counter},l=t.get("Content-Encoding");if(!n.compress||"HEAD"===n.method||null===l||204===e.statusCode||304===e.statusCode)return c=new qo(s,o),void r(c);if("gzip"==l||"x-gzip"==l)return s=s.pipe(g.createGunzip({flush:g.Z_SYNC_FLUSH,finishFlush:g.Z_SYNC_FLUSH})),c=new qo(s,o),void r(c);if("deflate"!=l&&"x-deflate"!=l){if("br"==l&&"function"==typeof g.createBrotliDecompress)return s=s.pipe(g.createBrotliDecompress()),c=new qo(s,o),void r(c);c=new qo(s,o),r(c)}else e.pipe(new Jo).once("data",function(e){s=s.pipe(8==(15&e[0])?g.createInflate():g.createInflateRaw()),c=new qo(s,o),r(c)})}),function(e,t){const r=t.body;null===r?e.end():Io(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(p,n)})}Qo.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Qo.Promise=global.Promise;for(var ea=function(){return p.randomBytes(16)},ta=[],ra=0;ra<256;++ra)ta[ra]=(ra+256).toString(16).substr(1);var ia=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||ea)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var s=0;s<16;++s)t[i+s]=n[s];return t||function(e,t){var r=0;return[ta[e[r++]],ta[e[r++]],ta[e[r++]],ta[e[r++]],"-",ta[e[r++]],ta[e[r++]],"-",ta[e[r++]],ta[e[r++]],"-",ta[e[r++]],ta[e[r++]],"-",ta[e[r++]],ta[e[r++]],ta[e[r++]],ta[e[r++]],ta[e[r++]],ta[e[r++]]].join("")}(n)};const na=xs(),sa=require("../package.json").version,oa=process.env.GATSBY_TELEMETRY_API||"https://analytics.gatsbyjs.com/events",aa=()=>{let e=na.get("telemetry.machineId");return"string"!=typeof e&&(e=ia(),na.set("telemetry.machineId",e)),e},ca=ia(),la=(e,t)=>{Qo(oa,{method:"POST",headers:{"content-type":"application/json","user-agent":"create-gatsby:"+sa},body:JSON.stringify(w({eventType:e,time:new Date,sessionId:ca,machineId:aa(),componentId:"create-gatsby",componentVersion:1,gatsbyCliVersion:sa},t))}).catch(()=>{})},ua=e=>"win32"===process.platform?"":e,ha=/[<>:"/\\|?*\u0000-\u001F]/g,pa=/^(con|prn|aux|nul|com\d|lpt\d)$/i,da=(e,t=!1)=>{const r=Object.entries(e).map(([e,t])=>({name:e,message:t.message}));return t?r:[{name:"none",message:"No (or I'll add it later)"},{name:"‚Äì",role:"separator",message:"‚Äì"},...r]},fa=async e=>e?(e=e.trim(),ha.test(e)?`The destination "${e}" is not a valid filename. Please try again, avoiding special characters.`:"win32"===process.platform&&pa.test(e)?`The destination "${e}" is not a valid Windows filename. Please try another name`:!a.existsSync(o.resolve(e))||`The destination "${e}" already exists. Please choose a different name`):"You have not provided a directory name for your site. Please do so when running with the 'y' flag.",ma=(e,t)=>[{type:"textinput",name:"project",message:"What would you like to name the folder where your site will be created?",hint:o.basename(process.cwd()),separator:"/",initial:e,format:e=>x.cyan(e),validate:fa,skip:t},{type:"selectinput",name:"cms",message:"Will you be using a CMS?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:da(Ge)},{type:"selectinput",name:"styling",message:"Would you like to install a styling system?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:da(Ue)},{type:"multiselectinput",name:"features",message:"Would you like to install additional features with other plugins?",hint:'(Multiple choice) Use arrow keys to move, enter to select, and choose "Done" to confirm your choices',choices:da(qe,!0)}],ya=e=>e.split(":")[0];process.on("exit",e=>{la("CREATE_GATSBY_END",{exitCode:e}),-1===e&&la("CREATE_GATSBY_ERROR")}),exports.questions=ma,exports.run=async function(){var e;const[t,r]=process.argv.slice(2);let i=!1;"-y"===t&&(i=!0),la("CREATE_GATSBY_START");const{version:s}=require("../package.json");Bn(x.grey("create-gatsby version "+s)),Bn(`\n\n\n${function(e,t=" ",r=po){return t.repeat(Math.round((r-(e=>""===e?0:(e=>"string"==typeof e?e.replace((({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")})(),""):e)(e).match((()=>{const e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",t="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",n="[\\ud800-\\udbff][\\udc00-\\udfff]",s=`(?:${e}|${t})?`,o="[\\ufe0e\\ufe0f]?"+s+`(?:\\u200d(?:${[r,i,n].join("|")})${"[\\ufe0e\\ufe0f]?"+s})*`,a=`(?:${[`${r}${e}?`,e,i,n,"[\\ud800-\\udfff]","[\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93]"].join("|")})`;return new RegExp(`(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)|${t}(?=${t})|${a+o}`,"g")})()).length)(e))/2))+e}(x.blueBright.bold.underline("Welcome to Gatsby!"))}\n\n\n`),i||Bn(((e,t=po)=>function(e,t){(t=t||{}).width=t.hasOwnProperty("width")?t.width:80,t.ignoreAnsi=!t.hasOwnProperty("ignoreAnsi")||t.ignoreAnsi,t.patterns=t.hasOwnProperty("patterns")?t.patterns:[],t.ignoreAnsi&&(t.patterns=[/\u001b.*?m/g].concat(t.patterns));let r=e.split("\n"),i=[];for(let e of r){let r=e.split(" "),n="";for(let e of r)ho(e,t)+ho(n,t)+1>t.width&&(i.push(n),n=""),n&&(n+=" "),n+=e;i.push(n)}return i.join("\n")}(e,{width:t}))(`This command will generate a new Gatsby site for you in ${x.bold(process.cwd())} with the setup you select. ${x.white.bold("Let's answer some questions:\n\n")}`,process.stdout.columns));const a=new $e;let c,l;if(a.use(js),i){const e=await fa(r);if("string"==typeof e)return void console.warn(e);l=r,c=await a.prompt(ma(Ts(r),i)[0])}else({name:l}=await a.prompt({type:"textinput",name:"name",message:"What would you like to call your site?",initial:"My Gatsby Site",format:e=>x.cyan(e)})),c=await a.prompt(ma(Ts(l),i));var u;c.project=c.project.trim(),la("CREATE_GATSBY_SELECT_OPTION",{name:"project_name",valueString:(u=c.project,p.createHash("sha256").update(u).digest("hex"))}),la("CREATE_GATSBY_SELECT_OPTION",{name:"CMS",valueString:c.cms||"none"}),la("CREATE_GATSBY_SELECT_OPTION",{name:"CSS_TOOLS",valueString:c.styling||"none"}),la("CREATE_GATSBY_SELECT_OPTION",{name:"PLUGIN",valueStringArray:c.features||[]});const h=[`${ua("üõ†  ")}Create a new Gatsby site in the folder ${x.magenta(c.project)}`],d=[],f=[];let m={};if(c.cms&&"none"!==c.cms){h.push(`${ua("üìö ")}Install and configure the plugin for ${x.magenta(Ge[c.cms].message)}`);const e=Ge[c.cms].plugins||[];d.push(c.cms,...e),f.push(c.cms,...Ge[c.cms].dependencies||[],...e),m=w({},m,Ge[c.cms].options)}if(c.styling&&"none"!==c.styling){h.push(`${ua("üé® ")}Get you set up to use ${x.magenta(Ue[c.styling].message)} for styling your site`);const e=Ue[c.styling].plugins||[];d.push(c.styling,...e),f.push(c.styling,...Ue[c.styling].dependencies||[],...e),m=w({},m,Ue[c.styling].options)}if(null==(e=c.features)?void 0:e.length){var y,g;h.push(`${ua("üîå ")}Install ${null==(y=c.features)?void 0:y.map(e=>x.magenta(e)).join(", ")}`),d.push(...c.features);const e=null==(g=c.features)?void 0:g.map(e=>{const t=qe[e].plugins||[];return d.push(...t),[...qe[e].dependencies||[],...t]}),t=[].concat.apply([],e);f.push(...c.features,...t),m=c.features.reduce((e,t)=>w({},e,qe[t].options),m)}const b=(e=>{const t=[];return e.forEach(e=>{const r=so[e];if(!r||"string"==typeof r||!("keys"in r))return;const i=null==r?void 0:r.keys;if(!i)return;const n=Object.entries(i).filter(lo).map(uo);n.length>0&&t.push({type:"forminput",name:e,multiple:!0,message:Xs`
          Configure the ${ao(e)} plugin.
          See ${co(e)} for help.
          ${n.length>1?x.green("Use arrow keys to move between fields, and enter to finish"):""}
          `,choices:n})}),t})(d);if(b.length){Bn("\nGreat! A few of the selections you made need to be configured. Please fill in the options for each plugin now:\n"),la("CREATE_GATSBY_SET_PLUGINS_START");const e=new $e;e.use(js),m=w({},m,await e.prompt(b)),la("CREATE_GATSBY_SET_PLUGINS_STOP")}if(!i){Bn(`\n\n${x.bold("Thanks! Here's what we'll now do:")}\n\n    ${h.join("\n    ")}\n  `);const{confirm:e}=await(new $e).prompt({type:"confirm",name:"confirm",initial:"Yes",message:"Shall we do this?",format:e=>e?x.greenBright("Yes"):x.red("No")});if(!e)return la("CREATE_GATSBY_CANCEL"),void Bn("OK, bye!")}await async function(e,t,r,i){const s=o.resolve(t);await(async(e,t,r)=>{const i=function(e="",t=Gn,r=80){let i=0;Un.write("[?25l");const n=setInterval(()=>{Un.write(`${t[i]} ${e}`),i=(i+1)%t.length,Un.cursorTo(0)},r);return function(){clearInterval(n),Un.cursorTo(0),Un.write("[?25h")}}("Cloning site template"),n=["clone","https://github.com/gatsbyjs/gatsby-starter-minimal.git",t,"--recursive","--depth=1","--quiet"].filter(e=>Boolean(e));try{await Xr("git",n),Fn("Created site from template")}catch(e){$n(e.message)}i(),await Mn.remove(o.join(t,".git")),await Mn.remove(o.join(t,"LICENSE"))})(0,s),await(async(e,t)=>{const r=o.join(e,"package.json"),i=await Mn.readJSON(r);i.name=Ts(t),i.description=t,delete i.license;try{const e=await Xr("git",["config","user.name"]);e.failed?delete i.author:i.author=e.stdout}catch(e){delete i.author}await Mn.writeJSON(r,i)})(s,i),await(async(e,t)=>{const r=process.cwd();Bn(x.blueBright(x.symbols.pointer)+" Installing Gatsby..."),process.chdir(e);const i=process.env.npm_config_user_agent;try{const e=Rs(i),s={stderr:"inherit"},o=["--loglevel","error","--color","always"];if("yarn"===e&&(()=>{try{return n.execSync("yarnpkg --version",{stdio:"ignore"}),!0}catch(e){return Bn('Woops! You have chosen "yarn" as your package manager, but it doesn\'t seem be installed on your machine. You can install it from https://yarnpkg.com/getting-started/install or change your preferred package manager with the command "gatsby options set pm npm". As a fallback, we will run the next steps with npm.'),!1}})()){const e=t.length?["add","--silent",...t]:["--silent"];await Mn.remove("package-lock.json"),await Xr("yarnpkg",e,s)}else await Mn.remove("yarn.lock"),await Xr("npm",["install",...o],s),await Is(),Fn("Installed Gatsby"),Bn(x.blueBright(x.symbols.pointer)+" Installing plugins..."),await Xr("npm",["install",...o,...t],s),await Is();Fn("Installed plugins")}catch(e){$n(e.message)}finally{process.chdir(r)}})(t,r)}(0,c.project,f.map(ya),l),Fn("Created site in "+x.green(c.project));const v=o.resolve(c.project);d.length&&(Bn(ua("üîå ")+"Setting-up plugins..."),await async function(e,t={},r,i){try{const n=((e,t)=>{try{let r;try{r=Cs("gatsby-cli/lib/handlers/plugin-add",{paths:[e,o.dirname(t)]})}catch(e){}try{r||(console.log("looking in old place"),r=Cs("gatsby-cli/lib/plugin-add",{paths:[e,o.dirname(t)]}))}catch(e){}if(!r)throw new Error;return r}catch(e){throw new Error("Could not find a suitable version of gatsby-cli. Please report this issue at https://www.github.com/gatsbyjs/gatsby/issues")}})(r,(e=>{try{const t=Cs("gatsby/package.json",{paths:[e]});if(!t)throw new Error;return t}catch(t){throw new Error(`Could not find "gatsby" in ${e}. Perhaps it wasn't installed properly?`)}})(r));await(async(e,t,r={},i,n)=>{try{const{addPlugins:s}=require(e);await s(t,r,i,n)}catch(e){throw new Error("Something went wrong when trying to add the plugins to the project: "+e.message)}})(n,e,t,r,i)}catch(e){return n=e.message,void console.error(x.red(x.symbols.cross+" ")+n)}var n}(d,m,v,[])),await async function(e,t,r){try{const t=require.resolve("gatsby-recipes",{paths:[e]}),{GatsbySiteMetadata:i}=require(t);await(null==i?void 0:i.create({root:e},{name:"title",value:r}))}catch(e){}}(v,0,l),await async function(e){await(async e=>await Xr("git",["init"],{cwd:e}))(e),await(async e=>{Mn.existsSync(o.join(e,".gitignore"))||await Mn.writeFile(o.join(e,".gitignore"),".cache\nnode_modules\npublic\n")})(e),await(async e=>{await Xr("git",["add","-A"],{cwd:e});try{n.execSync('git commit -m "Initial commit from gatsby"',{cwd:e})}catch(t){Bn("Initial git commit failed - removing git support\n"),Mn.removeSync(o.join(e,".git"))}})(e)}(c.project);const E="npm"===await Rs()?"npm run":"yarn";Bn(Xs`
    ${ua("üéâ  ")}Your new Gatsby site ${x.bold(l)} has been successfully created
    at ${x.bold(v)}.
    `),Bn(`Start by going to the directory with\n\n  ${x.magenta("cd "+c.project)}\n  `),Bn(`Start the local development server with\n\n  ${x.magenta(E+" develop")}\n  `),Bn(`See all commands at\n\n  ${x.blueBright("https://www.gatsbyjs.com/docs/gatsby-cli/")}\n  `);const S=(e=>p.createHash("md5").update(e).digest("hex"))(v);la("CREATE_GATSBY_SUCCESS",{siteHash:S})},exports.validateProjectName=fa;
